{"remainingRequest":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/babel-loader/lib/index.js!/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/Edit.vue","mtime":1605753490110},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2RhdGEvT25saW5lU3VydmV5L0Zyb250RW5kL3N1cnZleXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFFTIGZyb20gInFzIjsKaW1wb3J0IGZ1bGxzY3JlZW4gZnJvbSAidnVlLWZ1bGxzY3JlZW4iOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7ClZ1ZS51c2UoZnVsbHNjcmVlbik7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VydmV5SWQ6ICIiLAogICAgICBjcmVhdGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdGFnRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGNyZWF0aW5nOiBmYWxzZSwKICAgICAgY2hvb3NlVHlwZTogMCwKICAgICAgcXVlc3Rpb25CYW5rOiB7CiAgICAgICAgc3lzdGVtOiB7fSwKICAgICAgICB1c2VyOiB7fQogICAgICB9LAogICAgICAvLyB0b29sCiAgICAgIGlzT3BlblNpZGVCYXI6IHRydWUsCiAgICAgIGJ0blNpZGViYXI6IHRydWUsCiAgICAgIGJ0blNpZGVCYXJOYW1lOiAi5pS26LW35bel5YW35qCPIiwKICAgICAgYnRuU2lkZUJhckljb246ICJlbC1pY29uLXMtZm9sZCIsCiAgICAgIHRvb2xiYXJOYXY6IDEsCiAgICAgIC8vIHNob3cKICAgICAgc3VydmV5OiB7fSwKICAgICAgcmFkaW9WYWx1ZTogIiIsCiAgICAgIGNoZWNrYm94VmFsdWU6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBmdWxsc2NyZWVuOiBmYWxzZSwKICAgICAgLy8gdGFnCiAgICAgIHRhZ3M6IFtdLAogICAgICB0YWdJbnB1dFZpc2libGU6IGZhbHNlLAogICAgICB0YWdJbnB1dFZhbHVlOiAiIiwKICAgICAgLy8gZWRpdAogICAgICBpc0VkaXRUaXRsZTogZmFsc2UsCiAgICAgIGlzRWRpdEludHJvOiBmYWxzZSwKICAgICAgaXNFZGl0UXVlc3Q6IFtdLAogICAgICBlZGl0aW5nOiBudWxsLAogICAgICBvbGRWYWw6ICIiLAogICAgICBvbGRPYmo6IHt9LAogICAgICAvLyBpY29uCiAgICAgIGljb25zOiBbewogICAgICAgIHZhbHVlOiAicmFkaW8iLAogICAgICAgIHRleHQ6ICJpY29uZm9udCBpY29uLWRhbnh1YW4iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogImNoZWNrYm94IiwKICAgICAgICB0ZXh0OiAiaWNvbmZvbnQgaWNvbi1kdW94dWFuIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJ0ZXh0YXJlYSIsCiAgICAgICAgdGV4dDogImljb25mb250IGljb24tZHVvaGFuZ3dlbmJlbiIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAicmF0ZSIsCiAgICAgICAgdGV4dDogImVsLWljb24tc3Rhci1vZmYiCiAgICAgIH1dLAogICAgICB0eXBlczogW3sKICAgICAgICB2YWx1ZTogInJhZGlvIiwKICAgICAgICB0ZXh0OiAi5Y2V6YCJ6aKYIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJjaGVja2JveCIsCiAgICAgICAgdGV4dDogIuWkmumAiemimCIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAidGV4dGFyZWEiLAogICAgICAgIHRleHQ6ICLmlofmnKzpopgiCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogInJhdGUiLAogICAgICAgIHRleHQ6ICLor4TliIbpopgiCiAgICAgIH1dLAogICAgICAvLyBkcmFnCiAgICAgIHByZVFzaXRlbXM6IFtdCiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgLy8g6L+H5ruk5aSn57qy6KeG5Zu+6aKY5Z6L55qEaWNvbuWbvuaghwogICAgaWNvbkZpbHRlcjogZnVuY3Rpb24gaWNvbkZpbHRlcih2YWx1ZSwgaWNvbnMpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpY29ucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh2YWx1ZSA9PSBpY29uc1tpXS52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIGljb25zW2ldLnRleHQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6L+H5ruk6aKY5bqT6aKY55uu6aKE6KeI55qE57G75Z6LCiAgICB0eXBlRmlsdGVyOiBmdW5jdGlvbiB0eXBlRmlsdGVyKHZhbHVlLCB0eXBlcykgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHZhbHVlID09IHR5cGVzW2ldLnZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdHlwZXNbaV0udGV4dDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOWPlua2iOWIm+W7uumXruWNtw0KICAgICAqLwogICAgY2FuY2VsQ3JlYXRlOiBmdW5jdGlvbiBjYW5jZWxDcmVhdGUoKSB7CiAgICAgIHRoaXMuY3JlYXRlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliJvlu7rpl67ljbcNCiAgICAgKi8KICAgIGNyZWF0ZVN1cnZleTogZnVuY3Rpb24gY3JlYXRlU3VydmV5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hvb3NlVHlwZSA9PSAwKSB7CiAgICAgICAgdGhpcy5jcmVhdGVEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5jcmVhdGluZyA9IHRydWU7CiAgICAgICAgdmFyIHN1cnZleWRhdGEgPSB7fTsKICAgICAgICBzdXJ2ZXlkYXRhLmNyZWF0b3IgPSB0aGlzLnVpZDsKICAgICAgICB0aGlzLiRodHRwLnBvc3QoInN1cnZleS9uZXcvYmxhbmsiLCBzdXJ2ZXlkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIC8vIOW9k+WJjemhteWcsOWdgOagj+WinuWKoHN1cnZleUlk77yM5Yi35paw6aG16Z2iCiAgICAgICAgICAvLyDpmLLmraLliLfmlrDkuKLlpLHmlbDmja7lkozmjInpkq7kuI3mmL7npLoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgc3VydmV5SWQ6IHJlcy5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaG9vc2VUeXBlID09IDEpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUvdGVtcGxhdGUiKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDlsZXlvIDkuI7lhbPpl63lt6XlhbfmoI8NCiAgICAgKi8KICAgIG9wZW5PckNsb3NlU2lkZUJhcjogZnVuY3Rpb24gb3Blbk9yQ2xvc2VTaWRlQmFyKCkgewogICAgICBpZiAodGhpcy5pc09wZW5TaWRlQmFyKSB7CiAgICAgICAgdGhpcy5pc09wZW5TaWRlQmFyID0gZmFsc2U7CiAgICAgICAgdGhpcy5idG5TaWRlQmFyTmFtZSA9ICLlsZXlvIDlt6XlhbfmoI8iOwogICAgICAgIHRoaXMuYnRuU2lkZUJhckljb24gPSAiZWwtaWNvbi1zLXVuZm9sZCI7CiAgICAgICAgdGhpcy4kcmVmcy5zaWRlYmFyLnN0eWxlID0gImxlZnQ6IC0yNTFweCI7CiAgICAgICAgdGhpcy4kcmVmcy5jb250YWluLnN0eWxlID0gImxlZnQ6IDBweCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc09wZW5TaWRlQmFyID0gdHJ1ZTsKICAgICAgICB0aGlzLmJ0blNpZGVCYXJOYW1lID0gIuaUtui1t+W3peWFt+agjyI7CiAgICAgICAgdGhpcy5idG5TaWRlQmFySWNvbiA9ICJlbC1pY29uLXMtZm9sZCI7CiAgICAgICAgdGhpcy4kcmVmcy5zaWRlYmFyLnN0eWxlID0gImxlZnQ6IDBweCI7CiAgICAgICAgdGhpcy4kcmVmcy5jb250YWluLnN0eWxlID0gImxlZnQ6IDI1MXB4IjsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDojrflj5bpl67ljbfkv6Hmga8NCiAgICAgKi8KICAgIGdldFN1cnZleTogZnVuY3Rpb24gZ2V0U3VydmV5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCJzdXJ2ZXkvIiArIHRoaXMuc3VydmV5SWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnN1cnZleSA9IHJlcy5kYXRhOwogICAgICAgIHZhciBxc2l0ZW1zID0gcmVzLmRhdGEucXNpdGVtczsgLy8g5Yid5aeL5YyWaXNFZGl0UXVlc3TnmoTlgLwKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHFzaXRlbXMpIHsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5pc0VkaXRRdWVzdCwga2V5LCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOa3u+WKoOmXruWNt+mimOebrg0KICAgICAqLwogICAgYWRkUXVlc3Rpb246IGZ1bmN0aW9uIGFkZFF1ZXN0aW9uKHR5cGUsIHF1ZXN0aW9uKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8g5b2T5YmN6aKY55uu5pyq5L+d5a2Y5LiN6IO95re75YqgCiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmlzRWRpdFF1ZXN0KSB7CiAgICAgICAgaWYgKHRoaXMuaXNFZGl0UXVlc3Rba2V5XSA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmVkaXRpbmcgPSBrZXk7IC8vIOa3u+WKoOaKluWKqOWKqOeUuwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMuZWRpdGluZyA9IG51bGw7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIHJldHVybjsgLy8g57uT5p2f5b6A5LiL5omn6KGMCiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgcXVlc3RkYXRhID0ge307CiAgICAgIHF1ZXN0ZGF0YS50eXBlID0gdHlwZTsKICAgICAgcXVlc3RkYXRhLmlzUmVxdWlyZWQgPSAwOwogICAgICBxdWVzdGRhdGEuc3VydmV5SWQgPSB0aGlzLnN1cnZleS5pZDsgLy8g6aKY55uu5o6S5bqPCgogICAgICB2YXIgbGVuZ3RoID0gdGhpcy5zdXJ2ZXkucXNpdGVtcy5sZW5ndGg7CiAgICAgIHF1ZXN0ZGF0YS5udW1iZXIgPSBsZW5ndGggKyAxOwoKICAgICAgaWYgKGxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgbGFzdE9yZGVySWQgPSB0aGlzLnN1cnZleS5xc2l0ZW1zW2xlbmd0aCAtIDFdLm9yZGVySWQ7CiAgICAgICAgcXVlc3RkYXRhLm9yZGVySWQgPSBsYXN0T3JkZXJJZCArIDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g56m655m96Zeu5Y23CiAgICAgICAgcXVlc3RkYXRhLm9yZGVySWQgPSAxMDAwOwogICAgICB9CgogICAgICBpZiAocXVlc3Rpb24gPT0gbnVsbCkgewogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAicmFkaW8iOgogICAgICAgICAgICBxdWVzdGRhdGEudGl0bGUgPSAi6L+Z5piv5LiA6YGT5Y2V6YCJ6aKYIjsKICAgICAgICAgICAgcXVlc3RkYXRhLm9wdGlvbnMgPSBbewogICAgICAgICAgICAgIHZhbHVlOiAi6YCJ6aG5QSIsCiAgICAgICAgICAgICAgb3JkZXJJZDogMCwKICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB2YWx1ZTogIumAiemhuUIiLAogICAgICAgICAgICAgIG9yZGVySWQ6IDEsCiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiY2hlY2tib3giOgogICAgICAgICAgICBxdWVzdGRhdGEudGl0bGUgPSAi6L+Z5piv5LiA6YGT5aSa6YCJ6aKYIjsKICAgICAgICAgICAgcXVlc3RkYXRhLm9wdGlvbnMgPSBbewogICAgICAgICAgICAgIHZhbHVlOiAi6YCJ6aG5QSIsCiAgICAgICAgICAgICAgb3JkZXJJZDogMCwKICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB2YWx1ZTogIumAiemhuUIiLAogICAgICAgICAgICAgIG9yZGVySWQ6IDEsCiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAidGV4dGFyZWEiOgogICAgICAgICAgICBxdWVzdGRhdGEudGl0bGUgPSAi6L+Z5piv5LiA6YGT5paH5pys6aKYIjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAicmF0ZSI6CiAgICAgICAgICAgIHF1ZXN0ZGF0YS50aXRsZSA9ICLov5nmmK/kuIDpgZPor4TliIbpopgiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXVlc3RkYXRhLnRpdGxlID0gcXVlc3Rpb24udGl0bGU7CiAgICAgICAgcXVlc3RkYXRhLm9wdGlvbnMgPSBxdWVzdGlvbi5vcHRpb25zOwogICAgICB9CgogICAgICB0aGlzLiRodHRwLnNhdmVTdXJ2ZXkoInF1ZXN0aW9uL25ldyIsIHF1ZXN0ZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gcXVlc3RkYXRhLmlkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgLy8gcXVlc3RkYXRhLnFzSXRlbUlkID0gcmVzLmRhdGEucXNJdGVtSWQ7CiAgICAgICAgX3RoaXMzLnN1cnZleS5xc2l0ZW1zLnB1c2gocXVlc3RkYXRhKTsgLy8g5rua5Yqo5Yiw5pyr5bC+5aKe5Yqg55qE6aKY55uuCgoKICAgICAgICBfdGhpczMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy4kcmVmcy5jb250YWluLnNjcm9sbFRvcCA9IF90aGlzMy4kcmVmcy5jb250YWluLnNjcm9sbEhlaWdodDsKCiAgICAgICAgICBfdGhpczMuZ2V0U3VydmV5KCk7IC8v6YeN5paw6I635Y+W5pWw5o2uCgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Yig6Zmk6Zeu5Y236aKY55uuDQogICAgICovCiAgICBkZWxTdXJ2ZXlRdWVzdGlvbjogZnVuY3Rpb24gZGVsU3VydmV5UXVlc3Rpb24oaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgbWVzc2FnZSA9ICJcdTc4NkVcdTVCOUFcdTg5ODFcdTVDMDZcdTZCNjRcdTk4OThcdTc2RUVcdTVGN0JcdTVFOTVcdTUyMjBcdTk2NjRcdTU0MTdcdUZGMUYiOwogICAgICB0aGlzLiRjb25maXJtKG1lc3NhZ2UsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDmj5DkuqTliKDpmaTor7fmsYIKICAgICAgICB2YXIgcXVlc3RkYXRhID0ge307CiAgICAgICAgcXVlc3RkYXRhLmlkID0gX3RoaXM0LnN1cnZleS5xc2l0ZW1zW2luZGV4XS5pZDsKICAgICAgICBxdWVzdGRhdGEudHlwZSA9IF90aGlzNC5zdXJ2ZXkucXNpdGVtc1tpbmRleF0udHlwZTsKICAgICAgICBxdWVzdGRhdGEucXNJdGVtSWQgPSBfdGhpczQuc3VydmV5LnFzaXRlbXNbaW5kZXhdLnFzSXRlbUlkOwogICAgICAgIHF1ZXN0ZGF0YS5zdXJ2ZXlJZCA9IF90aGlzNC5zdXJ2ZXkuaWQ7CiAgICAgICAgdmFyIGxlbmd0aCA9IF90aGlzNC5zdXJ2ZXkucXNpdGVtcy5sZW5ndGggLSAxOwogICAgICAgIHF1ZXN0ZGF0YS5udW1iZXIgPSBsZW5ndGg7CgogICAgICAgIF90aGlzNC4kaHR0cC5zYXZlU3VydmV5KCJxdWVzdGlvbi9kZWwiLCBxdWVzdGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LnN1cnZleS5xc2l0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnvJbovpHpl67ljbfpopjnm64NCiAgICAgKi8KICAgIGVkaXRTdXJ2ZXlRdWVzdGlvbjogZnVuY3Rpb24gZWRpdFN1cnZleVF1ZXN0aW9uKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8g5b2T5YmN6aKY55uu5pyq5L+d5a2Y5LiN6IO957yW6L6R5YW25a6D6aKYCiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmlzRWRpdFF1ZXN0KSB7CiAgICAgICAgaWYgKHRoaXMuaXNFZGl0UXVlc3Rba2V5XSA9PSB0cnVlKSB7CiAgICAgICAgICBpZiAoa2V5ID09IGluZGV4KSByZXR1cm47IC8vIOe7k+adn+W+gOS4i+aJp+ihjAoKICAgICAgICAgIGlmIChrZXkgIT0gaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy5lZGl0aW5nID0ga2V5OyAvLyDmt7vliqDmipbliqjliqjnlLsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzNS5lZGl0aW5nID0gbnVsbDsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIHJldHVybjsgLy8g57uT5p2f5b6A5LiL5omn6KGMCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIOaJk+W8gOe8lui+keaooeW8jwoKCiAgICAgIHRoaXMuJHNldCh0aGlzLmlzRWRpdFF1ZXN0LCBpbmRleCwgdHJ1ZSk7IC8vIOaLt+i0neS/ruaUueWJjeeahOaVsOaNrgoKICAgICAgdmFyIHFzaXRlbXMgPSB0aGlzLnN1cnZleS5xc2l0ZW1zOwoKICAgICAgZm9yICh2YXIgX2tleSBpbiBxc2l0ZW1zKSB7CiAgICAgICAgaWYgKF9rZXkgPT0gaW5kZXgpIHsKICAgICAgICAgIHRoaXMub2xkT2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN1cnZleS5xc2l0ZW1zW19rZXldKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS/neWtmOmXruWNt+mimOebrg0KICAgICAqLwogICAgc2F2ZVN1cnZleVF1ZXN0aW9uOiBmdW5jdGlvbiBzYXZlU3VydmV5UXVlc3Rpb24oaW5kZXgpIHsKICAgICAgdmFyIGNoYW5nZSA9IGZhbHNlOwogICAgICB2YXIgb2xkUXNpdGVtID0gdGhpcy5vbGRPYmo7CiAgICAgIHZhciBxc2l0ZW1zID0gdGhpcy5zdXJ2ZXkucXNpdGVtczsKCiAgICAgIGZvciAodmFyIGtleSBpbiBxc2l0ZW1zKSB7CiAgICAgICAgaWYgKGtleSA9PSBpbmRleCkgewogICAgICAgICAgdmFyIHRpdGxlID0gcXNpdGVtc1trZXldLnRpdGxlOwogICAgICAgICAgdmFyIG9wdGlvbnMgPSBxc2l0ZW1zW2tleV0ub3B0aW9uczsKICAgICAgICAgIHZhciBpc1JlcXVpcmVkID0gcXNpdGVtc1trZXldLmlzUmVxdWlyZWQ7CiAgICAgICAgICB2YXIgcXVlc3RkYXRhID0ge307CiAgICAgICAgICBxdWVzdGRhdGEudHlwZSA9IHFzaXRlbXNba2V5XS50eXBlOwogICAgICAgICAgcXVlc3RkYXRhLnN1cnZleUlkID0gdGhpcy5zdXJ2ZXkuaWQ7IC8vIOS/neWtmOmimOebruaIlumAiemhuQoKICAgICAgICAgIGlmICh0aXRsZSAhPSBvbGRRc2l0ZW0udGl0bGUpIHsKICAgICAgICAgICAgLy8g6aKY55uu5pyJ5pS55YqoCiAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7CiAgICAgICAgICAgIHF1ZXN0ZGF0YS5xc0l0ZW1JZCA9IHFzaXRlbXNba2V5XS5xc0l0ZW1JZDsKICAgICAgICAgICAgcXVlc3RkYXRhLnRpdGxlID0gcXNpdGVtc1trZXldLnRpdGxlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChvcHRpb25zICE9IG51bGwpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoICE9IG9sZFFzaXRlbS5vcHRpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgIC8vIOmAiemhueaVsOe7hOmVv+W6puacieWPmO+8jOebtOaOpeaPkOS6pOWFqOmDqOmAiemhue+8iOWIoOmZpOS4jeaUueWPmOWOn+aVsOe7hOmVv+W6pu+8iQogICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7CgogICAgICAgICAgICAgIGZvciAodmFyIF9rZXkyIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgICAgIC8vIOWPquacieWinuWKoOS8muaUueWPmOaVsOe7hOmVv+W6pu+8jOWPqumcgOimgeWcqOi/meS9jee9ruWIhumFjW9yZGVySWQKICAgICAgICAgICAgICAgIG9wdGlvbnNbX2tleTJdLm9yZGVySWQgPSBfa2V5MjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHF1ZXN0ZGF0YS5vcHRpb25zID0gb3B0aW9uczsKICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmxlbmd0aCA9PSBvbGRRc2l0ZW0ub3B0aW9ucy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyDoi6XmlbDnu4Tplb/luqbmnKrlj5jvvIzkuIDkuIDmr5Tlr7npgInpobnnmoTlgLwKICAgICAgICAgICAgICBmb3IgKHZhciBfa2V5MyBpbiBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICAvLyDpgInpobnnmoTlgLzmnInmlLnliqjvvIzmj5DkuqTlhajpg6jpgInpobkKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zW19rZXkzXS52YWx1ZSAhPSBvbGRRc2l0ZW0ub3B0aW9uc1tfa2V5M10udmFsdWUgfHwgb3B0aW9uc1tfa2V5M10udmlzaWJpbGl0eSAhPSBvbGRRc2l0ZW0ub3B0aW9uc1tfa2V5M10udmlzaWJpbGl0eSkgewogICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICBxdWVzdGRhdGEub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIOW/heWhq+WxnuaAp+acieWPmOWMlgoKCiAgICAgICAgICBpZiAoaXNSZXF1aXJlZCAhPSBvbGRRc2l0ZW0uaXNSZXF1aXJlZCkgewogICAgICAgICAgICBjaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICBxdWVzdGRhdGEuaWQgPSBxc2l0ZW1zW2tleV0uaWQ7CiAgICAgICAgICAgIHF1ZXN0ZGF0YS5pc1JlcXVpcmVkID0gcXNpdGVtc1trZXldLmlzUmVxdWlyZWQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNoYW5nZSkgdGhpcy4kaHR0cC5zYXZlU3VydmV5KCJxdWVzdGlvbi9zYXZlIiwgcXVlc3RkYXRhKTsKICAgICAgICB9CiAgICAgIH0gLy8gYXhhauaIkOWKn+WQjuWFs+mXree8lui+keaooeW8jwoKCiAgICAgIHRoaXMuJHNldCh0aGlzLmlzRWRpdFF1ZXN0LCBpbmRleCwgZmFsc2UpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnvJbovpHpl67ljbfmoIfpopgNCiAgICAgKi8KICAgIGVkaXRTdXJ2ZXlUaXRsZTogZnVuY3Rpb24gZWRpdFN1cnZleVRpdGxlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuaXNFZGl0VGl0bGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRyZWZzWyJ0aXRsZSJdLmZvY3VzKCk7CiAgICAgIH0pOwogICAgICB0aGlzLm9sZFZhbCA9IHRoaXMuc3VydmV5LnRpdGxlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkv53lrZjpl67ljbfmoIfpopgNCiAgICAgKi8KICAgIGJsdXJTdXJ2ZXlUaXRsZTogZnVuY3Rpb24gYmx1clN1cnZleVRpdGxlKCkgewogICAgICB2YXIgc3VydmV5ZGF0YSA9IHt9OwoKICAgICAgaWYgKHRoaXMuc3VydmV5LnRpdGxlLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgYWxlcnQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuc3VydmV5LnRpdGxlICE9PSB0aGlzLm9sZFZhbCkgewogICAgICAgICAgc3VydmV5ZGF0YS5pZCA9IHRoaXMuc3VydmV5LmlkOwogICAgICAgICAgc3VydmV5ZGF0YS50aXRsZSA9IHRoaXMuc3VydmV5LnRpdGxlOwogICAgICAgICAgdGhpcy4kaHR0cC5zYXZlU3VydmV5KCJzYXZlL3N1cnZleS9pbmZvIiwgc3VydmV5ZGF0YSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmlzRWRpdFRpdGxlID0gZmFsc2U7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOe8lui+kemXruWNt+eugOS7iw0KICAgICAqLwogICAgZWRpdFN1cnZleUludHJvOiBmdW5jdGlvbiBlZGl0U3VydmV5SW50cm8oKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy5pc0VkaXRJbnRybyA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuJHJlZnNbImludHJvIl0uZm9jdXMoKTsKICAgICAgfSk7CiAgICAgIHRoaXMub2xkVmFsID0gdGhpcy5zdXJ2ZXkuaW50cm9kdWN0aW9uOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDkv53lrZjpl67ljbfnroDku4sNCiAgICAgKi8KICAgIGJsdXJTdXJ2ZXlJbnRybzogZnVuY3Rpb24gYmx1clN1cnZleUludHJvKCkgewogICAgICB0aGlzLmlzRWRpdEludHJvID0gZmFsc2U7CiAgICAgIHZhciBzdXJ2ZXlkYXRhID0ge307CgogICAgICBpZiAodGhpcy5zdXJ2ZXkuaW50cm9kdWN0aW9uICE9PSB0aGlzLm9sZFZhbCkgewogICAgICAgIHN1cnZleWRhdGEuaWQgPSB0aGlzLnN1cnZleS5pZDsKICAgICAgICBzdXJ2ZXlkYXRhLmludHJvZHVjdGlvbiA9IHRoaXMuc3VydmV5LmludHJvZHVjdGlvbjsKICAgICAgICB0aGlzLiRodHRwLnNhdmVTdXJ2ZXkoInNhdmUvc3VydmV5L2luZm8iLCBzdXJ2ZXlkYXRhKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDmt7vliqDpgInpobkNCiAgICAgKi8KICAgIGFkZE9wdGlvbjogZnVuY3Rpb24gYWRkT3B0aW9uKGluZGV4LCBpKSB7CiAgICAgIHZhciBxc2l0ZW0gPSB0aGlzLnN1cnZleS5xc2l0ZW1zW2luZGV4XTsKCiAgICAgIGlmIChpID09IG51bGwpIHsKICAgICAgICBpID0gMDsKICAgICAgfSAvL3FzaXRlbS5vcHRpb25zLmxlbmd0aCArIDEKICAgICAgZWxzZSB7CiAgICAgICAgICBpKys7CiAgICAgICAgfQoKICAgICAgcXNpdGVtLm9wdGlvbnMuc3BsaWNlKGksIDAsIHsKICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgcXNJdGVtSWQ6IHFzaXRlbS5xc0l0ZW1JZCwKICAgICAgICB2aXNpYmlsaXR5OiAxCiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKDpmaTpgInpobkNCiAgICAgKi8KICAgIGRlbE9wdGlvbjogZnVuY3Rpb24gZGVsT3B0aW9uKGluZGV4LCBpKSB7CiAgICAgIHZhciBxc2l0ZW0gPSB0aGlzLnN1cnZleS5xc2l0ZW1zW2luZGV4XTsgLy8g6K6w5b2V6ZyA6KaB5Yig6Zmk55qE6YCJ6aG5CgogICAgICBpZiAocXNpdGVtLm9wdGlvbnNbaV0uaWQgIT0gbnVsbCkgewogICAgICAgIHFzaXRlbS5vcHRpb25zW2ldLnZpc2liaWxpdHkgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHFzaXRlbS5vcHRpb25zLnNwbGljZShpLCAxKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDmt7vliqDlhbbku5bpgInpobkNCiAgICAgKi8KICAgIGFkZE90aGVyT3B0aW9uOiBmdW5jdGlvbiBhZGRPdGhlck9wdGlvbihpbmRleCkgewogICAgICB2YXIgcXNpdGVtID0gdGhpcy5zdXJ2ZXkucXNpdGVtc1tpbmRleF07CiAgICAgIHZhciBsYXN0ID0gcXNpdGVtLm9wdGlvbnMubGVuZ3RoOwogICAgICBxc2l0ZW0ub3B0aW9ucy5zcGxpY2UobGFzdCwgMCwgewogICAgICAgIHZhbHVlOiAi5YW25LuWIF9fX18iLAogICAgICAgIHFzSXRlbUlkOiBxc2l0ZW0ucXNJdGVtSWQsCiAgICAgICAgdmlzaWJpbGl0eTogMQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog55So5LqO57yW6L6R6aG16Z2i5YWo5bGP5pi+56S6DQogICAgICovCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgdGhpcy5idG5TaWRlYmFyID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbInNpZGViYXIiXS5zdHlsZSA9ICJ0b3A6MCI7CiAgICAgIHRoaXMuJHJlZnNbImNvbnRhaW4iXS5zdHlsZSA9ICJ0b3A6MCI7CiAgICAgIHRoaXMuJHJlZnNbImZ1bGxzY3JlZW4iXS50b2dnbGUoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5YWo5bGP57yW6L6RDQogICAgICovCiAgICBmdWxsc2NyZWVuQ2hhbmdlOiBmdW5jdGlvbiBmdWxsc2NyZWVuQ2hhbmdlKGZ1bGxzY3JlZW4pIHsKICAgICAgdGhpcy5mdWxsc2NyZWVuID0gZnVsbHNjcmVlbjsKCiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4gPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmJ0blNpZGViYXIgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnNbInNpZGViYXIiXS5zdHlsZSA9ICJ0b3A6MTIycHgiOwogICAgICAgIHRoaXMuJHJlZnNbImNvbnRhaW4iXS5zdHlsZSA9ICJ0b3A6MTIycHgiOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaUtuiXj+mimOebrg0KICAgICAqLwogICAgc3RhclF1ZXN0aW9uOiBmdW5jdGlvbiBzdGFyUXVlc3Rpb24oaXRlbSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0ge307CiAgICAgIGRhdGEuYmVsb25nSWQgPSB0aGlzLnVpZDsKICAgICAgZGF0YS5xc0l0ZW1JZCA9IGl0ZW0ucXNJdGVtSWQ7CiAgICAgIGRhdGEudHlwZSA9IGl0ZW0udHlwZTsKICAgICAgdmFyIG5ld1FzSXRlbUlkID0gIiI7CiAgICAgIHRoaXMuJGh0dHAucG9zdCgic3Rhcl9xdWVzdGlvbiIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAnPHN0cm9uZyBzdHlsZT0iY29sb3I6IzMzMyI+5pS26JeP5oiQ5YqfPC9zdHJvbmc+JywKICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgIGljb25DbGFzczogIiAiLAogICAgICAgICAgY2VudGVyOiB0cnVlLAogICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICBvZmZzZXQ6IDY4LAogICAgICAgICAgY3VzdG9tQ2xhc3M6ICJjZW50ZXItbXNnYm94IgogICAgICAgIH0pOwoKICAgICAgICBuZXdRc0l0ZW1JZCA9IHJlcy5kYXRhOyAvLyDpobXpnaLmmL7npLrlkIzmraUKCiAgICAgICAgX3RoaXM4LnF1ZXN0aW9uQmFuay51c2VyLnF1ZXN0aW9uX2xpc3QudW5zaGlmdCh7CiAgICAgICAgICBxc0l0ZW1JZDogbmV3UXNJdGVtSWQsCiAgICAgICAgICBjb250ZW50OiB7CiAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsCiAgICAgICAgICAgIG9wdGlvbnM6IGl0ZW0ub3B0aW9ucwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5re75Yqg6aKY5bqT55qE6aKY55uuDQogICAgICovCiAgICBhZGRRdWVzdGlvbk9mQmFuazogZnVuY3Rpb24gYWRkUXVlc3Rpb25PZkJhbmsoaXRlbSkgewogICAgICB2YXIgcXVlc3Rpb24gPSB7fTsKICAgICAgcXVlc3Rpb24udGl0bGUgPSBpdGVtLmNvbnRlbnQudGl0bGU7CiAgICAgIHF1ZXN0aW9uLm9wdGlvbnMgPSBpdGVtLmNvbnRlbnQub3B0aW9uczsKICAgICAgdGhpcy5hZGRRdWVzdGlvbihpdGVtLmNvbnRlbnQudHlwZSwgcXVlc3Rpb24pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnp7vpmaTmlLbol4/popjnm64NCiAgICAgKi8KICAgIHJlbW92ZVF1ZXN0aW9uT2ZCYW5rOiBmdW5jdGlvbiByZW1vdmVRdWVzdGlvbk9mQmFuayhpdGVtLCBpbmRleCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIlx1Nzg2RVx1OEJBNFx1ODk4MVx1NTIyMFx1OTY2NFx1OEZEOVx1OTA1M1x1OTg5OFx1NzZFRVx1NTQxN1x1RkYxRiIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkYXRhID0ge307CiAgICAgICAgZGF0YS50eXBlID0gaXRlbS5jb250ZW50LnR5cGU7CiAgICAgICAgZGF0YS5xc0l0ZW1JZCA9IGl0ZW0ucXNJdGVtSWQ7CgogICAgICAgIF90aGlzOS4kaHR0cC5wb3N0KCJyZW1vdmVfc3Rhcl9xdWVzdGlvbiIsIFFTLnN0cmluZ2lmeShkYXRhKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcXVlc3Rpb25MaXN0ID0gX3RoaXM5LnF1ZXN0aW9uQmFuay51c2VyLnF1ZXN0aW9uX2xpc3Q7CiAgICAgICAgICBxdWVzdGlvbkxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPlumimOW6k+WIl+ihqA0KICAgICAqLwogICAgZ2V0UXVlc3Rpb25CYW5rOiBmdW5jdGlvbiBnZXRRdWVzdGlvbkJhbmsoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIC8vIOiOt+WPluezu+e7n+mimOW6kwogICAgICB0aGlzLiRodHRwLnBvc3QoInF1ZXN0aW9uX3N5c3RlbV9saXN0X2dldCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTAucXVlc3Rpb25CYW5rLnN5c3RlbSA9IHJlcy5kYXRhOwogICAgICB9KTsgLy8g6I635Y+W55So5oi35pS26JeP6aKY55uuCgogICAgICB0aGlzLiRodHRwLnBvc3QoInF1ZXN0aW9uX3VzZXJfbGlzdF9nZXQvIi5jb25jYXQodGhpcy51aWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEwLnF1ZXN0aW9uQmFuay51c2VyID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIC8qKgogICAgLy8gICog5aSN5Yi26aKY55uu5Yiw5LiL5LiA6aG5CiAgICAvLyAgKi8KICAgIC8vIGNvcHlRdWVzdGlvbihpdGVtLCBpbmRleCkgewogICAgLy8gICBjb25zdCBxc0l0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgIC8vICAgcXNJdGVtLnN1cnZleUlkID0gdGhpcy5zdXJ2ZXlJZDsKICAgIC8vICAgcXNJdGVtLm9yZGVySWQgPSBpdGVtLm9yZGVySWQgKyAxOyAvLyDmjpLluo8KICAgIC8vICAgdGhpcy4kaHR0cC5zYXZlU3VydmV5KCJxdWVzdGlvbi9uZXciLCBxc0l0ZW0pLnRoZW4oKCkgPT4gewogICAgLy8gICAgIHRoaXMuc3VydmV5LnFzaXRlbXMuc3BsaWNlKGluZGV4LCAwLCBxc0l0ZW0pOwogICAgLy8gICB9KTsKICAgIC8vIH0sCgogICAgLyoqDQogICAgICog5LiK56e7LOS4i+enu++8muS6pOaNoumimOebruS9jee9rg0KICAgICAqLwogICAgc3dhcFF1ZXN0aW9uOiBmdW5jdGlvbiBzd2FwUXVlc3Rpb24oZnJvbSwgdG8pIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdmFyIHFzaXRlbXMgPSB0aGlzLnN1cnZleS5xc2l0ZW1zOwogICAgICB2YXIgZnJvbVF1ZXN0ID0gcXNpdGVtc1tmcm9tXTsKICAgICAgdmFyIHRvUXVlc3QgPSBxc2l0ZW1zW3RvXTsKCiAgICAgIGlmICh0byA8IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLlt7Lnu4/liLDpobbkuobvvIEiLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRvID4gcXNpdGVtcy5sZW5ndGggLSAxKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi5bey57uP5Yiw5bqV5LqG77yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5ZCO56uv5Lqk5o2ib3JkZXJJZAoKCiAgICAgIHZhciBxdWVzdGlvbiA9IHt9OwogICAgICBxdWVzdGlvbi5mcm9tSWQgPSBmcm9tUXVlc3QuaWQ7CiAgICAgIHF1ZXN0aW9uLmZyb21PaWQgPSBmcm9tUXVlc3Qub3JkZXJJZDsKICAgICAgcXVlc3Rpb24udG9JZCA9IHRvUXVlc3QuaWQ7CiAgICAgIHF1ZXN0aW9uLnRvT2lkID0gdG9RdWVzdC5vcmRlcklkOwogICAgICB0aGlzLiRodHRwLnNhdmVTdXJ2ZXkoInF1ZXN0aW9uL3N3YXAiLCBRUy5zdHJpbmdpZnkocXVlc3Rpb24pKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczExLmdldFN1cnZleSgpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6aKY55uu56e75Yiw5pyA5YmNDQogICAgICovCiAgICB0b1RvcFF1ZXN0aW9uOiBmdW5jdGlvbiB0b1RvcFF1ZXN0aW9uKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBxc2l0ZW1zID0gdGhpcy5zdXJ2ZXkucXNpdGVtczsKCiAgICAgIGlmIChpbmRleCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi5bey57uP5Yiw6aG25LqG77yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBxdWVzdGlvbiA9IHt9OwogICAgICBxdWVzdGlvbi5pZCA9IHFzaXRlbXNbaW5kZXhdLmlkOwogICAgICBxdWVzdGlvbi5vcmRlcklkID0gcXNpdGVtc1swXS5vcmRlcklkIC0gMTsKICAgICAgdGhpcy4kaHR0cC5zYXZlU3VydmV5KCJxdWVzdGlvbi9qdW1wIiwgUVMuc3RyaW5naWZ5KHF1ZXN0aW9uKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMi5nZXRTdXJ2ZXkoKTsKCiAgICAgICAgX3RoaXMxMi4kcmVmcy5jb250YWluLnNjcm9sbFRvcCA9IDA7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpopjnm67np7vliLDmnIDlkI4NCiAgICAgKi8KICAgIHRvQm90dG9tUXVlc3Rpb246IGZ1bmN0aW9uIHRvQm90dG9tUXVlc3Rpb24oaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIHFzaXRlbXMgPSB0aGlzLnN1cnZleS5xc2l0ZW1zOwoKICAgICAgaWYgKGluZGV4ID09IHRoaXMuc3VydmV5LnFzaXRlbXMubGVuZ3RoIC0gMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuW3sue7j+WIsOW6leS6hu+8gSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgcXVlc3Rpb24gPSB7fTsKICAgICAgcXVlc3Rpb24uaWQgPSBxc2l0ZW1zW2luZGV4XS5pZDsKICAgICAgcXVlc3Rpb24ub3JkZXJJZCA9IHFzaXRlbXNbcXNpdGVtcy5sZW5ndGggLSAxXS5vcmRlcklkICsgMTsKICAgICAgdGhpcy4kaHR0cC5zYXZlU3VydmV5KCJxdWVzdGlvbi9qdW1wIiwgUVMuc3RyaW5naWZ5KHF1ZXN0aW9uKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMy5nZXRTdXJ2ZXkoKTsKCiAgICAgICAgX3RoaXMxMy4kcmVmcy5jb250YWluLnNjcm9sbFRvcCA9IF90aGlzMTMuJHJlZnMuY29udGFpbi5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDorr7nva7lhazlvIDpl67ljbfnmoTmoIfnrb4NCiAgICAgKi8KICAgIHNoYXJlOiBmdW5jdGlvbiBzaGFyZSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy50YWdEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgZGF0YS5zdXJ2ZXlJZCA9IHRoaXMuc3VydmV5SWQ7CiAgICAgIHRoaXMuJGh0dHAucG9zdCgiL3RhZy90YWdzIiwgUVMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE0LnRhZ3MgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIoOmZpOagh+etvg0KICAgICAqLwogICAgZGVsZXRlVGFnOiBmdW5jdGlvbiBkZWxldGVUYWcoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIHRhZyA9IHt9OwogICAgICB0YWcuaWQgPSB0aGlzLnRhZ3NbaW5kZXhdLmlkOwogICAgICB0aGlzLiRodHRwLnBvc3QoIi90YWcvZGVsIiwgUVMuc3RyaW5naWZ5KHRhZykpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTUudGFncy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5omT5byA5paw5qCH562+6L6T5YWl5qGGDQogICAgICovCiAgICBzaG93VGFnSW5wdXQ6IGZ1bmN0aW9uIHNob3dUYWdJbnB1dCgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdGhpcy50YWdJbnB1dFZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNi4kcmVmcy5zYXZlVGFnSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOa3u+WKoOagh+etvg0KICAgICAqLwogICAgYWRkVGFnOiBmdW5jdGlvbiBhZGRUYWcoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRhZ0lucHV0VmFsdWUpIHsKICAgICAgICB2YXIgdGFnID0ge307CiAgICAgICAgdGFnLnRhZ05hbWUgPSB0aGlzLnRhZ0lucHV0VmFsdWU7CiAgICAgICAgdGFnLnN1cnZleUlkID0gdGhpcy5zdXJ2ZXlJZDsKICAgICAgICB0aGlzLiRodHRwLnBvc3QoIi90YWcvYWRkIiwgdGFnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTcudGFncy5wdXNoKHRhZyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxNy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDlpLHotKUiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy50YWdJbnB1dFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy50YWdJbnB1dFZhbHVlID0gIiI7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdWlkOiBmdW5jdGlvbiB1aWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVpZDsKICAgIH0KICB9KSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAvLyDmjqXmlLbot6/nlLHkvKDmnaXnmoTpl67ljbfnvJblj7cKICAgIHRoaXMuc3VydmV5SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdXJ2ZXlJZDsgLy8g5ZCR5pyN5Yqh5Zmo6K+35rGC6Zeu5Y235L+h5oGvCgogICAgaWYgKHRoaXMuc3VydmV5SWQgPT0gbnVsbCkgewogICAgICB0aGlzLmNyZWF0ZURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jcmVhdGluZyA9IHRydWU7CiAgICAgIHRoaXMuZ2V0U3VydmV5KCk7IC8v6I635Y+W6Zeu5Y235L+h5oGvCgogICAgICB0aGlzLmdldFF1ZXN0aW9uQmFuaygpOyAvL+iOt+WPlumimOW6k+WIl+ihqAogICAgfQoKICAgIHRoaXMuJGRyYWdnaW5nLiRvbigiZHJhZ2dlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMxOC5wcmVRc2l0ZW1zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczE4LnN1cnZleS5xc2l0ZW1zKSk7CiAgICB9KTsKICAgIHRoaXMuJGRyYWdnaW5nLiRvbigiZHJhZ2VuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGlzQ2hhbmdlID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMxOC5wcmVRc2l0ZW1zKSA9PT0gSlNPTi5zdHJpbmdpZnkoX3RoaXMxOC5zdXJ2ZXkucXNpdGVtcyk7CgogICAgICBpZiAoaXNDaGFuZ2UpIHsKICAgICAgICB2YXIgcXVlc3RzID0gW107CgogICAgICAgIF90aGlzMTguc3VydmV5LnFzaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAocXVlc3QpIHsKICAgICAgICAgIHZhciBxdSA9IHt9OwogICAgICAgICAgcXUuaWQgPSBxdWVzdC5pZDsKICAgICAgICAgIHF1Lm9yZGVySWQgPSBxdWVzdC5vcmRlcklkOwogICAgICAgICAgcXVlc3RzLnB1c2gocXUpOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczE4LiRodHRwLnNhdmVTdXJ2ZXkoIi9xdWVzdGlvbi9yZW9yZGVyIiwgcXVlc3RzKTsKICAgICAgfQoKICAgICAgX3RoaXMxOC5wcmVRc2l0ZW1zID0gW107CiAgICB9KTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUodG8sIGZyb20sIG5leHQpIHsKICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmlzRWRpdFF1ZXN0KSB7CiAgICAgIGlmICh0aGlzLmlzRWRpdFF1ZXN0W2tleV0gPT0gdHJ1ZSkgewogICAgICAgIHZhciBhbnN3ZXIgPSB3aW5kb3cuY29uZmlybSgi57O757uf5Y+v6IO95LiN5Lya5L+d5a2Y5oKo5omA5YGa55qE5pu05pS544CCIik7CgogICAgICAgIGlmIChhbnN3ZXIpIHsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dChmYWxzZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV4dCgpOwogIH0KfTs="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"edit\">\r\n    <fullscreen ref=\"fullscreen\" @change=\"fullscreenChange\">\r\n      <div class=\"edit-sidebar\" ref=\"sidebar\">\r\n        <a class=\"btn_sidebar_switch\" v-show=\"btnSidebar\" @click=\"openOrCloseSideBar\">\r\n          {{btnSideBarName}}\r\n          <i :class=\"btnSideBarIcon\"></i>\r\n        </a>\r\n        <div class=\"edit-left-nav\">\r\n          <ul>\r\n            <li>\r\n              <a @click=\"toolbarNav = 1\">\r\n                <i class=\"el-icon-menu\" :class=\"{currentNav:toolbarNav==1}\"></i>题型\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a @click=\"toolbarNav = 2\">\r\n                <i class=\"el-icon-notebook-2\" :class=\"{currentNav:toolbarNav==2}\"></i>题库\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a @click=\"toolbarNav = 3\">\r\n                <i class=\"el-icon-document\" :class=\"{currentNav:toolbarNav==3}\"></i>大纲\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <!-- 基础题型 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==1\">\r\n          <h3>基础题型</h3>\r\n          <div class=\"content\">\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('radio')\">\r\n              <i class=\"iconfont\">&#xe667;</i>单 选 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('checkbox')\">\r\n              <i class=\"iconfont\">&#xe669;</i>多 选 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('textarea')\">\r\n              <i class=\"iconfont\">&#xe668;</i>文 本 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('rate')\">\r\n              <i class=\"el-icon-star-off\" style=\"margin-right:6px\"></i>评 分 题\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <!-- 题库列表：用户收藏和系统提供 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==2\">\r\n          <h3>题库</h3>\r\n          <div class=\"content\">\r\n            <el-collapse>\r\n              <!-- 我的收藏 -->\r\n              <el-collapse-item name=\"1\">\r\n                <template slot=\"title\">我的收藏</template>\r\n                <div\r\n                  class=\"quest-bank-item\"\r\n                  v-for=\"(item, index) in questionBank.user.question_list\"\r\n                  :key=\"index\"\r\n                  @click=\"addQuestionOfBank(item)\"\r\n                >\r\n                  <div style=\"width:162px\">\r\n                    <span class=\"words-ellipsis\" style=\"width:120px\">{{item.content.title}}</span>\r\n                    <el-popover placement=\"right\" width=\"200\" trigger=\"hover\" :close-delay=\"0\">\r\n                      <div style=\"padding:15px\">\r\n                        <span style=\"color:#333\">{{item.content.title}}</span>\r\n                        <span\r\n                          style=\"color:#999;margin-left:10px;\"\r\n                        >[{{item.content.type | typeFilter(types)}}]</span>\r\n                        <div\r\n                          v-for=\"(option, oindx) in item.content.options\"\r\n                          :key=\"oindx\"\r\n                        >{{option.value}}</div>\r\n                      </div>\r\n                      <i slot=\"reference\" class=\"el-icon-info quest-bank-info-btn\"></i>\r\n                    </el-popover>\r\n                    <i\r\n                      class=\"el-icon-error quest-bank-del-btn\"\r\n                      @click.stop=\"removeQuestionOfBank(item, index)\"\r\n                    ></i>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n              <!-- 系统预设题库 -->\r\n              <el-collapse-item\r\n                v-for=\"(group, key, gindx) in questionBank.system.group_list\"\r\n                :key=\"gindx\"\r\n                :name=\"gindx\"\r\n              >\r\n                <template slot=\"title\">{{key}}</template>\r\n                <div class=\"quest-bank-item\" v-for=\"(groupId, i) in group\" :key=\"i\">\r\n                  <div\r\n                    v-for=\"(question, qindx) in questionBank.system.question_list\"\r\n                    :key=\"qindx\"\r\n                    @click=\"addQuestionOfBank(question)\"\r\n                  >\r\n                    <div style=\"width:160px\" v-if=\"question.qsItemId === groupId\">\r\n                      <span class=\"words-ellipsis\" style=\"width:140px\">{{question.content.title}}</span>\r\n                      <el-popover placement=\"right\" width=\"200\" trigger=\"hover\" :close-delay=\"0\">\r\n                        <div style=\"padding:15px\">\r\n                          <span style=\"color:#333\">{{question.content.title}}</span>\r\n                          <span\r\n                            style=\"color:#999;margin-left:10px;\"\r\n                          >{{question.content.type | typeFilter(types)}}</span>\r\n                          <div\r\n                            v-for=\"(option, oindx) in question.content.options\"\r\n                            :key=\"oindx\"\r\n                          >{{option.value}}</div>\r\n                        </div>\r\n                        <i slot=\"reference\" class=\"el-icon-info quest-bank-info-btn\"></i>\r\n                      </el-popover>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </div>\r\n        </div>\r\n        <!-- 大纲视图 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==3\">\r\n          <h3>大纲视图</h3>\r\n          <div class=\"content\">\r\n            <el-timeline>\r\n              <el-timeline-item\r\n                v-for=\"(qsitem, index) in survey.qsitems\"\r\n                :icon=\"qsitem.type | iconFilter(icons)\"\r\n                :key=\"index\"\r\n                color=\"#666\"\r\n                size=\"large\"\r\n              >\r\n                <div class=\"words-ellipsis\" style=\"width:150px\">{{index+1}}. {{qsitem.title}}</div>\r\n                <template slot=\"icon\"></template>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-contain\" ref=\"contain\">\r\n        <!-- 右上角按钮组 -->\r\n        <el-button-group style=\"right:35px;position:fixed;\">\r\n          <el-button size=\"mini\" icon=\"el-icon-share\" plain @click=\"share\"></el-button>\r\n          <el-button size=\"mini\" icon=\"el-icon-full-screen\" plain @click=\"toggle\"></el-button>\r\n        </el-button-group>\r\n        <!-- 问卷内容 -->\r\n        <el-card class=\"survey\" v-if=\"creating\" v-loading=\"loading\">\r\n          <!-- 标题 -->\r\n          <div class=\"title\">\r\n            <h1\r\n              @click=\"editSurveyTitle()\"\r\n              v-show=\"!isEditTitle\"\r\n              style=\"text-align:center\"\r\n            >{{survey.title}}</h1>\r\n            <h1 v-show=\"isEditTitle\">\r\n              <el-input\r\n                ref=\"title\"\r\n                @blur=\"blurSurveyTitle()\"\r\n                maxlength=\"20\"\r\n                show-word-limit\r\n                :clearable=\"true\"\r\n                placeholder=\"请输入标题\"\r\n                v-model=\"survey.title\"\r\n              ></el-input>\r\n            </h1>\r\n          </div>\r\n          <!-- 简介 -->\r\n          <div class=\"intro\">\r\n            <p @click=\"editSurveyIntro()\" v-show=\"!isEditIntro\">{{survey.introduction}}</p>\r\n            <p v-show=\"isEditIntro\">\r\n              <el-input\r\n                ref=\"intro\"\r\n                type=\"textarea\"\r\n                @blur=\"blurSurveyIntro()\"\r\n                :autosize=\"{ minRows: 2, maxRows: 2}\"\r\n                maxlength=\"100\"\r\n                show-word-limit\r\n                placeholder=\"请输入简介\"\r\n                v-model=\"survey.introduction\"\r\n              ></el-input>\r\n            </p>\r\n          </div>\r\n\r\n          <transition-group tag=\"div\">\r\n            <div\r\n              class=\"quest-list\"\r\n              :class=\"{'animated':true,'shake':editing==index, 'choose':isEditQuest[index]==true}\"\r\n              v-for=\"(item, index) in survey.qsitems\"\r\n              :key=\"index\"\r\n              @click=\"editSurveyQuestion(index)\"\r\n              v-dragging=\"{ item:item, list:survey.qsitems, group:'quest' }\"\r\n              :draggable=\"isEditQuest[index]==true?false:true\"\r\n            >\r\n              <div class=\"qs-contain\">\r\n                <div v-show=\"!isEditQuest[index]\">\r\n                  <!-- 单选题 -->\r\n                  <div v-if=\"item.type === 'radio'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-radio-group v-model=\"radioValue\">\r\n                      <el-radio\r\n                        class=\"block\"\r\n                        :label=\"option.id\"\r\n                        v-for=\"(option, i) in item.options\"\r\n                        :key=\"i\"\r\n                        v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                      >{{option.value}}</el-radio>\r\n                    </el-radio-group>\r\n                  </div>\r\n                  <!-- 多选题 -->\r\n                  <div v-else-if=\"item.type === 'checkbox'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-checkbox-group v-model=\"checkboxValue\">\r\n                      <el-checkbox\r\n                        class=\"block\"\r\n                        :label=\"option.id\"\r\n                        v-for=\"(option, i) in item.options\"\r\n                        :key=\"i\"\r\n                        v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                        style=\"width:20px;\"\r\n                      >{{option.value}}</el-checkbox>\r\n                    </el-checkbox-group>\r\n                  </div>\r\n                  <!-- 文本题 -->\r\n                  <div v-else-if=\"item.type === 'textarea'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-input type=\"textarea\" :autosize=\"{ minRows: 5, maxRows: 5}\"></el-input>\r\n                  </div>\r\n                  <!-- 评分题 -->\r\n                  <div v-else-if=\"item.type === 'rate'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-rate></el-rate>\r\n                  </div>\r\n                </div>\r\n                <!-- 题目操作面板 -->\r\n                <div class=\"qs-contain\" v-show=\"!isEditQuest[index]\" style=\"margin-top:20px\">\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    style=\"color:#E6A23C\"\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-star-off\"\r\n                    @click.stop=\"starQuestion(item)\"\r\n                  >收藏</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-download\"\r\n                    @click.stop=\"toBottomQuestion(index)\"\r\n                  >最后</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-upload2\"\r\n                    @click.stop=\"toTopQuestion(index)\"\r\n                  >最前</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-bottom\"\r\n                    @click.stop=\"swapQuestion(index, index+1)\"\r\n                  >下移</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-top\"\r\n                    @click.stop=\"swapQuestion(index, index-1)\"\r\n                  >上移</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    style=\"color:#F56C6C\"\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-delete\"\r\n                    @click.stop=\"delSurveyQuestion(index)\"\r\n                  >删除</el-button>\r\n                  <!-- <el-button\r\n                  size=\"mini\"\r\n                  plain\r\n                  class=\"question-btn\"\r\n                  icon=\"el-icon-copy-document\"\r\n                  @click.stop=\"copyQuestion(item, index)\"\r\n                  >复制</el-button>-->\r\n                  <el-button size=\"mini\" plain class=\"question-btn\" icon=\"el-icon-edit-outline\">编辑</el-button>\r\n                </div>\r\n\r\n                <!-- 编辑模式 start -->\r\n                <div v-show=\"isEditQuest[index]\">\r\n                  <el-input\r\n                    class=\"inlineBlock\"\r\n                    :autosize=\"{ minRows: 1}\"\r\n                    show-word-limit\r\n                    clearable\r\n                    placeholder=\"请输入题目\"\r\n                    v-model=\"item.title\"\r\n                  >\r\n                    <template slot=\"prepend\">{{item.type | typeFilter(types)}}</template>\r\n                  </el-input>\r\n                  <div\r\n                    v-for=\"(option, i) in item.options\"\r\n                    :key=\"i\"\r\n                    v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                  >\r\n                    <el-input\r\n                      class=\"inlineBlock\"\r\n                      v-model=\"option.value\"\r\n                      clearable\r\n                      style=\"width:82%;margin-right:1%;\"\r\n                    >\r\n                      <template slot=\"prepend\">选项</template>\r\n                    </el-input>\r\n                    <div class=\"toolbar\" style=\"float:right;\">\r\n                      <el-button icon=\"el-icon-plus\" circle @click=\"addOption(index,i)\"></el-button>\r\n                      <el-button icon=\"el-icon-minus\" circle @click=\"delOption(index,i)\"></el-button>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    v-if=\"item.type === 'radio' || item.type === 'checkbox'\"\r\n                    style=\"display:inline-block\"\r\n                  >\r\n                    <el-button\r\n                      class=\"inlineBlock\"\r\n                      @click=\"addOption(index)\"\r\n                      style=\"cursor:pointer;\"\r\n                    >添加选项</el-button>\r\n                    <el-button\r\n                      class=\"inlineBlock\"\r\n                      @click=\"addOtherOption(index)\"\r\n                      style=\"cursor:pointer;\"\r\n                    >添加「其他」项</el-button>\r\n                  </div>\r\n                  <el-switch\r\n                    class=\"inlineBlock\"\r\n                    style=\"float:right;margin:15px 0px;\"\r\n                    v-model=\"item.isRequired\"\r\n                    :active-value=\"1\"\r\n                    :inactive-value=\"0\"\r\n                    inactive-text=\"此题必填\"\r\n                  ></el-switch>\r\n                  <el-button\r\n                    class=\"inlineBlock\"\r\n                    @click.stop=\"saveSurveyQuestion(index)\"\r\n                    type=\"primary\"\r\n                    style=\"width:100%; cursor:pointer;\"\r\n                  >完 成 编 辑</el-button>\r\n                </div>\r\n                <!-- 编辑模式 end -->\r\n              </div>\r\n            </div>\r\n          </transition-group>\r\n        </el-card>\r\n      </div>\r\n    </fullscreen>\r\n    <!-- 选择问卷创建类型对话框 -->\r\n    <el-dialog\r\n      title=\"请选择问卷创建类型\"\r\n      width=\"730px\"\r\n      style=\"font-weight:bold\"\r\n      :modal=\"false\"\r\n      :visible.sync=\"createDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <div>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==0}\" @click=\"chooseType = 0\">\r\n              <el-card class=\"item blank\" shadow=\"hover\">\r\n                <img src=\"@/assets/image/blank.png\" />\r\n                <p>创建空白问卷</p>\r\n                <p>从一份空白问卷开始创建</p>\r\n              </el-card>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==1}\" @click=\"chooseType = 1\">\r\n              <el-card class=\"item template\" shadow=\"hover\">\r\n                <img src=\"@/assets/image/template.png\" />\r\n                <p>选择问卷模板</p>\r\n                <p>使用其他用户公开的问卷</p>\r\n              </el-card>\r\n            </div>\r\n          </el-col>\r\n          <!-- <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==2}\" @click=\"chooseType = 2\">\r\n                <el-card class=\"item import\" shadow=\"hover\">\r\n                    <img src=\"@/assets/image/import.png\">\r\n                    <p>文本编辑问卷</p>\r\n                    <p>自由编辑文本自动生成问卷</p>\r\n                </el-card>\r\n            </div>\r\n          </el-col>-->\r\n        </el-row>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"cancelCreate()\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"createSurvey()\">\r\n          <span v-show=\"chooseType == 0\">立即创建</span>\r\n          <span v-show=\"chooseType == 1\">下一步</span>\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 公开问卷对话框 -->\r\n    <el-dialog\r\n      title=\"设置问卷标签\"\r\n      width=\"580px\"\r\n      style=\"font-weight:bold\"\r\n      :visible.sync=\"tagDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <div style=\"width:100%\">\r\n        <el-tag\r\n          type=\"info\"\r\n          v-for=\"(tag, index) in tags\"\r\n          :key=\"index\"\r\n          closable\r\n          :disable-transitions=\"false\"\r\n          @close=\"deleteTag(index)\"\r\n        >{{tag.tagName}}</el-tag>\r\n        <el-input\r\n          class=\"input-new-tag\"\r\n          v-if=\"tagInputVisible\"\r\n          v-model=\"tagInputValue\"\r\n          ref=\"saveTagInput\"\r\n          size=\"small\"\r\n          @keyup.enter.native=\"addTag\"\r\n          @blur=\"addTag\"\r\n        ></el-input>\r\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showTagInput\">+ 添加新标签</el-button>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"tagDialogVisible = false\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport QS from \"qs\";\r\nimport fullscreen from \"vue-fullscreen\";\r\nimport Vue from \"vue\";\r\nVue.use(fullscreen);\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      surveyId: \"\",\r\n      createDialogVisible: false,\r\n      tagDialogVisible: false,\r\n      creating: false,\r\n      chooseType: 0,\r\n      questionBank: {\r\n        system: {},\r\n        user: {}\r\n      },\r\n      // tool\r\n      isOpenSideBar: true,\r\n      btnSidebar: true,\r\n      btnSideBarName: \"收起工具栏\",\r\n      btnSideBarIcon: \"el-icon-s-fold\",\r\n      toolbarNav: 1,\r\n      // show\r\n      survey: {},\r\n      radioValue: \"\",\r\n      checkboxValue: [],\r\n      loading: true,\r\n      fullscreen: false,\r\n      // tag\r\n      tags: [],\r\n      tagInputVisible: false,\r\n      tagInputValue: \"\",\r\n      // edit\r\n      isEditTitle: false,\r\n      isEditIntro: false,\r\n      isEditQuest: [],\r\n      editing: null,\r\n      oldVal: \"\",\r\n      oldObj: {},\r\n      // icon\r\n      icons: [\r\n        { value: \"radio\", text: \"iconfont icon-danxuan\" },\r\n        { value: \"checkbox\", text: \"iconfont icon-duoxuan\" },\r\n        { value: \"textarea\", text: \"iconfont icon-duohangwenben\" },\r\n        { value: \"rate\", text: \"el-icon-star-off\" }\r\n      ],\r\n      types: [\r\n        { value: \"radio\", text: \"单选题\" },\r\n        { value: \"checkbox\", text: \"多选题\" },\r\n        { value: \"textarea\", text: \"文本题\" },\r\n        { value: \"rate\", text: \"评分题\" }\r\n      ],\r\n      // drag\r\n      preQsitems: []\r\n    };\r\n  },\r\n\r\n  filters: {\r\n    // 过滤大纲视图题型的icon图标\r\n    iconFilter(value, icons) {\r\n      for (let i = 0; i < icons.length; i++) {\r\n        if (value == icons[i].value) {\r\n          return icons[i].text;\r\n        }\r\n      }\r\n    },\r\n    // 过滤题库题目预览的类型\r\n    typeFilter(value, types) {\r\n      for (let i = 0; i < types.length; i++) {\r\n        if (value == types[i].value) {\r\n          return types[i].text;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 取消创建问卷\r\n     */\r\n    cancelCreate() {\r\n      this.createDialogVisible = false;\r\n      this.$router.go(-1);\r\n    },\r\n    /**\r\n     * 创建问卷\r\n     */\r\n    createSurvey() {\r\n      if (this.chooseType == 0) {\r\n        this.createDialogVisible = false;\r\n        this.creating = true;\r\n        const surveydata = {};\r\n        surveydata.creator = this.uid;\r\n        this.$http.post(\"survey/new/blank\", surveydata).then(res => {\r\n          // 当前页地址栏增加surveyId，刷新页面\r\n          // 防止刷新丢失数据和按钮不显示\r\n          this.$router.push({\r\n            query: {\r\n              surveyId: res.data\r\n            }\r\n          });\r\n          this.$router.go(0);\r\n        });\r\n      } else if (this.chooseType == 1) {\r\n        this.$router.push(\"/home/template\");\r\n      }\r\n    },\r\n    /**\r\n     * 展开与关闭工具栏\r\n     */\r\n    openOrCloseSideBar() {\r\n      if (this.isOpenSideBar) {\r\n        this.isOpenSideBar = false;\r\n        this.btnSideBarName = \"展开工具栏\";\r\n        this.btnSideBarIcon = \"el-icon-s-unfold\";\r\n        this.$refs.sidebar.style = \"left: -251px\";\r\n        this.$refs.contain.style = \"left: 0px\";\r\n      } else {\r\n        this.isOpenSideBar = true;\r\n        this.btnSideBarName = \"收起工具栏\";\r\n        this.btnSideBarIcon = \"el-icon-s-fold\";\r\n        this.$refs.sidebar.style = \"left: 0px\";\r\n        this.$refs.contain.style = \"left: 251px\";\r\n      }\r\n    },\r\n    /**\r\n     * 获取问卷信息\r\n     */\r\n    getSurvey() {\r\n      this.$http\r\n        .get(\"survey/\" + this.surveyId)\r\n        .then(res => {\r\n          this.loading = false;\r\n          this.survey = res.data;\r\n          const qsitems = res.data.qsitems;\r\n          // 初始化isEditQuest的值\r\n          for (const key in qsitems) {\r\n            this.$set(this.isEditQuest, key, false);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    /**\r\n     * 添加问卷题目\r\n     */\r\n    addQuestion(type, question) {\r\n      // 当前题目未保存不能添加\r\n      for (const key in this.isEditQuest) {\r\n        if (this.isEditQuest[key] == true) {\r\n          this.editing = key; // 添加抖动动画\r\n          setTimeout(() => {\r\n            this.editing = null;\r\n          }, 1000);\r\n          return; // 结束往下执行\r\n        }\r\n      }\r\n      const questdata = {};\r\n      questdata.type = type;\r\n      questdata.isRequired = 0;\r\n      questdata.surveyId = this.survey.id;\r\n      // 题目排序\r\n      let length = this.survey.qsitems.length;\r\n      questdata.number = length + 1;\r\n      if (length > 0) {\r\n        let lastOrderId = this.survey.qsitems[length - 1].orderId;\r\n        questdata.orderId = lastOrderId + 1;\r\n      } else {\r\n        // 空白问卷\r\n        questdata.orderId = 1000;\r\n      }\r\n      if (question == null) {\r\n        switch (type) {\r\n          case \"radio\":\r\n            questdata.title = \"这是一道单选题\";\r\n            questdata.options = [\r\n              { value: \"选项A\", orderId: 0, visibility: 1 },\r\n              { value: \"选项B\", orderId: 1, visibility: 1 }\r\n            ];\r\n            break;\r\n          case \"checkbox\":\r\n            questdata.title = \"这是一道多选题\";\r\n            questdata.options = [\r\n              { value: \"选项A\", orderId: 0, visibility: 1 },\r\n              { value: \"选项B\", orderId: 1, visibility: 1 }\r\n            ];\r\n            break;\r\n          case \"textarea\":\r\n            questdata.title = \"这是一道文本题\";\r\n            break;\r\n          case \"rate\":\r\n            questdata.title = \"这是一道评分题\";\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      } else {\r\n        questdata.title = question.title;\r\n        questdata.options = question.options;\r\n      }\r\n\r\n      this.$http.saveSurvey(\"question/new\", questdata).then(() => {\r\n        // questdata.id = res.data.id;\r\n        // questdata.qsItemId = res.data.qsItemId;\r\n        this.survey.qsitems.push(questdata);\r\n        // 滚动到末尾增加的题目\r\n        this.$nextTick(() => {\r\n          this.$refs.contain.scrollTop = this.$refs.contain.scrollHeight;\r\n          this.getSurvey(); //重新获取数据\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 删除问卷题目\r\n     */\r\n    delSurveyQuestion(index) {\r\n      let message = `确定要将此题目彻底删除吗？`;\r\n      this.$confirm(message, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        // 提交删除请求\r\n        const questdata = {};\r\n        questdata.id = this.survey.qsitems[index].id;\r\n        questdata.type = this.survey.qsitems[index].type;\r\n        questdata.qsItemId = this.survey.qsitems[index].qsItemId;\r\n        questdata.surveyId = this.survey.id;\r\n        let length = this.survey.qsitems.length - 1;\r\n        questdata.number = length;\r\n        this.$http.saveSurvey(\"question/del\", questdata).then(() => {\r\n          this.survey.qsitems.splice(index, 1);\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 编辑问卷题目\r\n     */\r\n    editSurveyQuestion(index) {\r\n      // 当前题目未保存不能编辑其它题\r\n      for (const key in this.isEditQuest) {\r\n        if (this.isEditQuest[key] == true) {\r\n          if (key == index) return; // 结束往下执行\r\n          if (key != index) {\r\n            this.editing = key; // 添加抖动动画\r\n            setTimeout(() => {\r\n              this.editing = null;\r\n            }, 1000);\r\n            return; // 结束往下执行\r\n          }\r\n        }\r\n      }\r\n      // 打开编辑模式\r\n      this.$set(this.isEditQuest, index, true);\r\n      // 拷贝修改前的数据\r\n      const qsitems = this.survey.qsitems;\r\n      for (const key in qsitems) {\r\n        if (key == index) {\r\n          this.oldObj = JSON.parse(JSON.stringify(this.survey.qsitems[key]));\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 保存问卷题目\r\n     */\r\n    saveSurveyQuestion(index) {\r\n      let change = false;\r\n      const oldQsitem = this.oldObj;\r\n      const qsitems = this.survey.qsitems;\r\n\r\n      for (const key in qsitems) {\r\n        if (key == index) {\r\n          let title = qsitems[key].title;\r\n          let options = qsitems[key].options;\r\n          let isRequired = qsitems[key].isRequired;\r\n\r\n          const questdata = {};\r\n          questdata.type = qsitems[key].type;\r\n          questdata.surveyId = this.survey.id;\r\n\r\n          // 保存题目或选项\r\n          if (title != oldQsitem.title) {\r\n            // 题目有改动\r\n            change = true;\r\n            questdata.qsItemId = qsitems[key].qsItemId;\r\n            questdata.title = qsitems[key].title;\r\n          }\r\n          if (options != null) {\r\n            if (options.length != oldQsitem.options.length) {\r\n              // 选项数组长度有变，直接提交全部选项（删除不改变原数组长度）\r\n              change = true;\r\n              for (const key in options) {\r\n                // 只有增加会改变数组长度，只需要在这位置分配orderId\r\n                options[key].orderId = key;\r\n              }\r\n              questdata.options = options;\r\n            } else if (options.length == oldQsitem.options.length) {\r\n              // 若数组长度未变，一一比对选项的值\r\n              for (const key in options) {\r\n                // 选项的值有改动，提交全部选项\r\n                if (\r\n                  options[key].value != oldQsitem.options[key].value ||\r\n                  options[key].visibility != oldQsitem.options[key].visibility\r\n                ) {\r\n                  change = true;\r\n                  questdata.options = options;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          // 必填属性有变化\r\n          if (isRequired != oldQsitem.isRequired) {\r\n            change = true;\r\n            questdata.id = qsitems[key].id;\r\n            questdata.isRequired = qsitems[key].isRequired;\r\n          }\r\n          if (change) this.$http.saveSurvey(\"question/save\", questdata);\r\n        }\r\n      }\r\n      // axaj成功后关闭编辑模式\r\n      this.$set(this.isEditQuest, index, false);\r\n    },\r\n    /**\r\n     * 编辑问卷标题\r\n     */\r\n    editSurveyTitle() {\r\n      this.isEditTitle = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"title\"].focus();\r\n      });\r\n      this.oldVal = this.survey.title;\r\n    },\r\n    /**\r\n     * 保存问卷标题\r\n     */\r\n    blurSurveyTitle() {\r\n      const surveydata = {};\r\n      if (this.survey.title.length == 0) {\r\n        alert();\r\n        return;\r\n      } else {\r\n        if (this.survey.title !== this.oldVal) {\r\n          surveydata.id = this.survey.id;\r\n          surveydata.title = this.survey.title;\r\n          this.$http.saveSurvey(\"save/survey/info\", surveydata);\r\n        }\r\n      }\r\n      this.isEditTitle = false;\r\n    },\r\n    /**\r\n     * 编辑问卷简介\r\n     */\r\n    editSurveyIntro() {\r\n      this.isEditIntro = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"intro\"].focus();\r\n      });\r\n      this.oldVal = this.survey.introduction;\r\n    },\r\n    /**\r\n     * 保存问卷简介\r\n     */\r\n    blurSurveyIntro() {\r\n      this.isEditIntro = false;\r\n      const surveydata = {};\r\n      if (this.survey.introduction !== this.oldVal) {\r\n        surveydata.id = this.survey.id;\r\n        surveydata.introduction = this.survey.introduction;\r\n        this.$http.saveSurvey(\"save/survey/info\", surveydata);\r\n      }\r\n    },\r\n    /**\r\n     * 添加选项\r\n     */\r\n    addOption(index, i) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      if (i == null) {\r\n        i = 0;\r\n      } //qsitem.options.length + 1\r\n      else {\r\n        i++;\r\n      }\r\n      qsitem.options.splice(i, 0, {\r\n        value: \"\",\r\n        qsItemId: qsitem.qsItemId,\r\n        visibility: 1\r\n      });\r\n    },\r\n    /**\r\n     * 删除选项\r\n     */\r\n    delOption(index, i) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      // 记录需要删除的选项\r\n      if (qsitem.options[i].id != null) {\r\n        qsitem.options[i].visibility = 0;\r\n      } else {\r\n        qsitem.options.splice(i, 1);\r\n      }\r\n    },\r\n    /**\r\n     * 添加其他选项\r\n     */\r\n    addOtherOption(index) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      let last = qsitem.options.length;\r\n      qsitem.options.splice(last, 0, {\r\n        value: \"其他 ____\",\r\n        qsItemId: qsitem.qsItemId,\r\n        visibility: 1\r\n      });\r\n    },\r\n    /**\r\n     * 用于编辑页面全屏显示\r\n     */\r\n    toggle() {\r\n      this.btnSidebar = false;\r\n      this.$refs[\"sidebar\"].style = \"top:0\";\r\n      this.$refs[\"contain\"].style = \"top:0\";\r\n      this.$refs[\"fullscreen\"].toggle();\r\n    },\r\n    /**\r\n     * 全屏编辑\r\n     */\r\n    fullscreenChange(fullscreen) {\r\n      this.fullscreen = fullscreen;\r\n      if (this.fullscreen == false) {\r\n        this.btnSidebar = true;\r\n        this.$refs[\"sidebar\"].style = \"top:122px\";\r\n        this.$refs[\"contain\"].style = \"top:122px\";\r\n      }\r\n    },\r\n    /**\r\n     * 收藏题目\r\n     */\r\n    starQuestion(item) {\r\n      const data = {};\r\n      data.belongId = this.uid;\r\n      data.qsItemId = item.qsItemId;\r\n      data.type = item.type;\r\n      let newQsItemId = \"\";\r\n      this.$http.post(\"star_question\", data).then(res => {\r\n        this.$message({\r\n          message: '<strong style=\"color:#333\">收藏成功</strong>',\r\n          dangerouslyUseHTMLString: true,\r\n          iconClass: \" \",\r\n          center: true,\r\n          duration: 1000,\r\n          offset: 68,\r\n          customClass: \"center-msgbox\"\r\n        });\r\n        newQsItemId = res.data;\r\n        // 页面显示同步\r\n        this.questionBank.user.question_list.unshift({\r\n          qsItemId: newQsItemId,\r\n          content: { title: item.title, type: item.type, options: item.options }\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 添加题库的题目\r\n     */\r\n    addQuestionOfBank(item) {\r\n      const question = {};\r\n      question.title = item.content.title;\r\n      question.options = item.content.options;\r\n      this.addQuestion(item.content.type, question);\r\n    },\r\n    /**\r\n     * 移除收藏题目\r\n     */\r\n    removeQuestionOfBank(item, index) {\r\n      this.$confirm(`确认要删除这道题目吗？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      }).then(() => {\r\n        const data = {};\r\n        data.type = item.content.type;\r\n        data.qsItemId = item.qsItemId;\r\n        this.$http.post(\"remove_star_question\", QS.stringify(data)).then(() => {\r\n          const questionList = this.questionBank.user.question_list;\r\n          questionList.splice(index, 1);\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 获取题库列表\r\n     */\r\n    getQuestionBank() {\r\n      // 获取系统题库\r\n      this.$http.post(`question_system_list_get`).then(res => {\r\n        this.questionBank.system = res.data;\r\n      });\r\n      // 获取用户收藏题目\r\n      this.$http.post(`question_user_list_get/${this.uid}`).then(res => {\r\n        this.questionBank.user = res.data;\r\n      });\r\n    },\r\n\r\n    // /**\r\n    //  * 复制题目到下一项\r\n    //  */\r\n    // copyQuestion(item, index) {\r\n    //   const qsItem = JSON.parse(JSON.stringify(item));\r\n    //   qsItem.surveyId = this.surveyId;\r\n    //   qsItem.orderId = item.orderId + 1; // 排序\r\n    //   this.$http.saveSurvey(\"question/new\", qsItem).then(() => {\r\n    //     this.survey.qsitems.splice(index, 0, qsItem);\r\n    //   });\r\n    // },\r\n\r\n    /**\r\n     * 上移,下移：交换题目位置\r\n     */\r\n    swapQuestion(from, to) {\r\n      const qsitems = this.survey.qsitems;\r\n      const fromQuest = qsitems[from];\r\n      const toQuest = qsitems[to];\r\n\r\n      if (to < 0) {\r\n        this.$message({\r\n          message: \"已经到顶了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      if (to > qsitems.length - 1) {\r\n        this.$message({\r\n          message: \"已经到底了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      // 后端交换orderId\r\n      const question = {};\r\n      question.fromId = fromQuest.id;\r\n      question.fromOid = fromQuest.orderId;\r\n      question.toId = toQuest.id;\r\n      question.toOid = toQuest.orderId;\r\n      this.$http\r\n        .saveSurvey(\"question/swap\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n        });\r\n    },\r\n    /**\r\n     * 题目移到最前\r\n     */\r\n    toTopQuestion(index) {\r\n      const qsitems = this.survey.qsitems;\r\n      if (index == 0) {\r\n        this.$message({\r\n          message: \"已经到顶了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      const question = {};\r\n      question.id = qsitems[index].id;\r\n      question.orderId = qsitems[0].orderId - 1;\r\n      this.$http\r\n        .saveSurvey(\"question/jump\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n          this.$refs.contain.scrollTop = 0;\r\n        });\r\n    },\r\n    /**\r\n     * 题目移到最后\r\n     */\r\n    toBottomQuestion(index) {\r\n      const qsitems = this.survey.qsitems;\r\n      if (index == this.survey.qsitems.length - 1) {\r\n        this.$message({\r\n          message: \"已经到底了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      const question = {};\r\n      question.id = qsitems[index].id;\r\n      question.orderId = qsitems[qsitems.length - 1].orderId + 1;\r\n      this.$http\r\n        .saveSurvey(\"question/jump\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n          this.$refs.contain.scrollTop = this.$refs.contain.scrollHeight;\r\n        });\r\n    },\r\n    /**\r\n     * 设置公开问卷的标签\r\n     */\r\n    share() {\r\n      this.tagDialogVisible = true;\r\n      const data = {};\r\n      data.surveyId = this.surveyId;\r\n      this.$http.post(\"/tag/tags\", QS.stringify(data)).then(res => {\r\n        this.tags = res.data;\r\n      });\r\n    },\r\n    /**\r\n     * 删除标签\r\n     */\r\n    deleteTag(index) {\r\n      let tag = {};\r\n      tag.id = this.tags[index].id;\r\n      this.$http.post(\"/tag/del\", QS.stringify(tag)).then(() => {\r\n        this.tags.splice(index, 1);\r\n      });\r\n    },\r\n    /**\r\n     * 打开新标签输入框\r\n     */\r\n    showTagInput() {\r\n      this.tagInputVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      });\r\n    },\r\n    /**\r\n     * 添加标签\r\n     */\r\n    addTag() {\r\n      if (this.tagInputValue) {\r\n        let tag = {};\r\n        tag.tagName = this.tagInputValue;\r\n        tag.surveyId = this.surveyId;\r\n        this.$http\r\n          .post(\"/tag/add\", tag)\r\n          .then(() => {\r\n            this.tags.push(tag);\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              message: \"添加失败\",\r\n              type: \"error\"\r\n            });\r\n          });\r\n      }\r\n      this.tagInputVisible = false;\r\n      this.tagInputValue = \"\";\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      uid: state => state.uid\r\n    })\r\n  },\r\n\r\n  mounted() {\r\n    // 接收路由传来的问卷编号\r\n    this.surveyId = this.$route.query.surveyId;\r\n    // 向服务器请求问卷信息\r\n    if (this.surveyId == null) {\r\n      this.createDialogVisible = true;\r\n    } else {\r\n      this.creating = true;\r\n      this.getSurvey(); //获取问卷信息\r\n      this.getQuestionBank(); //获取题库列表\r\n    }\r\n\r\n    this.$dragging.$on(\"dragged\", () => {\r\n      this.preQsitems = JSON.parse(JSON.stringify(this.survey.qsitems));\r\n    });\r\n\r\n    this.$dragging.$on(\"dragend\", () => {\r\n      let isChange =\r\n        JSON.stringify(this.preQsitems) === JSON.stringify(this.survey.qsitems);\r\n      if (isChange) {\r\n        let quests = [];\r\n        this.survey.qsitems.forEach(quest => {\r\n          let qu = {};\r\n          qu.id = quest.id;\r\n          qu.orderId = quest.orderId;\r\n          quests.push(qu);\r\n        });\r\n        this.$http.saveSurvey(\"/question/reorder\", quests);\r\n      }\r\n      this.preQsitems = [];\r\n    });\r\n  },\r\n\r\n  beforeRouteLeave(to, from, next) {\r\n    for (const key in this.isEditQuest) {\r\n      if (this.isEditQuest[key] == true) {\r\n        const answer = window.confirm(\"系统可能不会保存您所做的更改。\");\r\n        if (answer) {\r\n          next();\r\n        } else {\r\n          next(false);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.center-msgbox {\r\n  min-width: 100px;\r\n  background-color: #fff;\r\n}\r\n.survey .el-card__body,\r\n.modifyPanel .el-card__body {\r\n  padding: 0 !important;\r\n}\r\n.el-collapse-item__header {\r\n  padding-left: 10px;\r\n}\r\n.el-collapse-item__content {\r\n  padding-left: 10px;\r\n}\r\n</style>\r\n<style scoped>\r\n.el-timeline {\r\n  padding-top: 15px;\r\n  padding-left: 15px;\r\n}\r\n/* 左侧编辑工具栏 start */\r\n.edit-sidebar {\r\n  position: fixed;\r\n  top: 122px;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 251px;\r\n  border-right: 1px solid #e0e0e0;\r\n  background-color: #fafafa;\r\n  z-index: 10;\r\n  transition: 0.3s;\r\n}\r\n.btn_sidebar_switch {\r\n  width: 110px;\r\n  height: 35px;\r\n  line-height: 35px;\r\n  border-radius: 0 35px 35px 0;\r\n  padding-right: 10px;\r\n  background-color: #fafafa;\r\n  position: absolute;\r\n  left: 251px;\r\n  cursor: pointer;\r\n  text-align: right;\r\n  user-select: none;\r\n  border: 1px solid #e0e0e0;\r\n  border-left: none;\r\n  font-size: 14px;\r\n  color: #4a4a4a;\r\n}\r\n.btn_sidebar_switch i {\r\n  margin-left: 10px;\r\n  margin-bottom: 3px;\r\n  vertical-align: middle;\r\n  font-size: 22px;\r\n  color: #4a4a4a;\r\n}\r\n.edit-sidebar .edit-left-nav {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 11;\r\n  width: 60px;\r\n  background-color: #fff;\r\n  border-right: 1px solid #d8d8d8;\r\n}\r\n.edit-sidebar .edit-left-nav ul {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.edit-sidebar .edit-left-nav ul li {\r\n  width: 40px;\r\n  height: 55px;\r\n  margin: 10px 10px 30px 10px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n}\r\n.currentNav {\r\n  color: #fff !important;\r\n  background-color: #409eff;\r\n  transition: 0.2s;\r\n}\r\n.currentNav:hover {\r\n  background-color: #409eff !important;\r\n}\r\n.edit-sidebar .edit-left-nav ul li {\r\n  color: #484848;\r\n}\r\n.edit-sidebar .edit-left-nav ul li i {\r\n  color: #484848;\r\n  font-size: 24px;\r\n  padding: 5px;\r\n  border-radius: 7px;\r\n}\r\n.edit-sidebar .edit-left-nav ul li i:hover {\r\n  background-color: #eee;\r\n}\r\n.edit-sidebar .edit-left-questbox {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 60px;\r\n  bottom: 0;\r\n  width: 190px;\r\n}\r\n.edit-left-questbox h3 {\r\n  color: #333;\r\n  margin: 12px;\r\n  font-weight: normal;\r\n  position: fixed;\r\n}\r\n.edit-left-questbox .content {\r\n  margin-top: 50px;\r\n  /* width: 95%; */\r\n  height: calc(100% - 50px);\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n.edit-left-questbox .qs-btn {\r\n  margin: 10px 10%;\r\n  width: 80%;\r\n}\r\n.edit-left-questbox .header-icon {\r\n  margin-left: 5px;\r\n}\r\n.edit-left-questbox .content::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n/* 题库面板样式 start */\r\n.words-ellipsis {\r\n  display: inline-block; /* 关键 */\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n.quest-bank-info-btn {\r\n  float: right;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  transition: 0.3s;\r\n}\r\n.quest-bank-info-btn:hover {\r\n  color: #409eff;\r\n}\r\n.quest-bank-del-btn {\r\n  float: right;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  transition: 0.3s;\r\n  margin-right: 3px;\r\n}\r\n.quest-bank-del-btn:hover {\r\n  color: #ff6161;\r\n}\r\n.quest-bank-item {\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  margin-right: 5px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n}\r\n.quest-bank-item:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n/* 题库面板样式 end */\r\n/* 左侧编辑工具栏 end */\r\n/* 主工作区 start */\r\n.edit-contain {\r\n  position: fixed;\r\n  top: 122px;\r\n  bottom: 0;\r\n  left: 251px;\r\n  right: 0;\r\n  padding: 20px 20px 50px 20px;\r\n  transition: 0.3s;\r\n  background-color: #f4f6f9;\r\n  overflow: auto;\r\n}\r\n/* 滚动条样式 start */\r\n.edit-contain::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n.edit-contain::-webkit-scrollbar-thumb {\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  border-radius: 5px;\r\n}\r\n.edit-contain::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n/* 滚动条样式 end */\r\n.edit-contain .survey,\r\n.modifyPanel {\r\n  max-width: 980px;\r\n  min-width: 730px;\r\n  margin: 40px auto;\r\n  padding-top: 50px;\r\n  padding-bottom: 100px;\r\n}\r\n/* 编辑模式选择面板 start */\r\n.modifyPanel h1 {\r\n  color: #ebf0f5;\r\n  font-size: 56px;\r\n  font-weight: 500;\r\n  margin: 15px;\r\n  height: 48px;\r\n  display: inline-block;\r\n}\r\n.modifyPanel .pattern {\r\n  display: inline-block;\r\n  background-color: #fafafa;\r\n  width: 100%;\r\n  padding: 20px 0 20px 10px;\r\n}\r\n.modifyPanel .choose_temp_modify_type {\r\n  border: 3px solid #409eff;\r\n}\r\n.modifyPanel .choose_temp_modify_type h1 {\r\n  color: #409eff;\r\n}\r\n.pattern p {\r\n  margin: 0;\r\n  padding: 5px 0px;\r\n  text-align: left;\r\n}\r\n.pattern p:nth-child(1) {\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n.pattern p:nth-child(2) {\r\n  color: #666;\r\n  font-size: 12px;\r\n}\r\n/* 编辑模式选择面板 end */\r\n.edit-contain .survey .title,\r\n.intro {\r\n  padding: 1px 35px;\r\n  margin: 5px 0px;\r\n  border-top: 1px solid #fff;\r\n  border-bottom: 1px solid #fff;\r\n}\r\n.edit-contain .survey .title h1,\r\n.intro p {\r\n  color: #333;\r\n  font-weight: 500;\r\n  margin: 10px;\r\n  padding: 10px;\r\n  border: 1px solid #fff;\r\n}\r\n.edit-contain .survey .title:hover,\r\n.intro:hover {\r\n  background-color: #fafafa;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  cursor: text;\r\n}\r\n.edit-contain .survey .title:hover > h1,\r\n.intro:hover > p {\r\n  background-color: #fff;\r\n  border: 1px solid #eaeaea;\r\n}\r\n.edit-contain .survey .quest-list {\r\n  padding: 35px 55px;\r\n  border-top: 1px solid #fff;\r\n  border-bottom: 1px solid #fff;\r\n  cursor: move;\r\n}\r\n.choose {\r\n  border: 2px solid #409eff !important;\r\n  border-radius: 4px;\r\n  background-color: #fafafa;\r\n  cursor: default !important;\r\n}\r\n.edit-contain .survey .quest-list:hover {\r\n  background-color: #fafafa;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.question-btn {\r\n  /* display: none; */\r\n  visibility: hidden;\r\n  float: right;\r\n  padding: 7px;\r\n  margin: 0 3px;\r\n}\r\n.edit-contain .survey .quest-list:hover .question-btn {\r\n  /* display: block; */\r\n  visibility: visible;\r\n}\r\n.edit-contain .survey .quest-list p {\r\n  margin-top: 0;\r\n}\r\n.edit-contain .survey .quest-list p .must {\r\n  color: #ff6161;\r\n  font-size: 18px;\r\n}\r\n.quest-list .qs-contain {\r\n  width: 100%;\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  color: #444;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n.inlineBlock {\r\n  margin: 0 30px 10px 0;\r\n  cursor: move;\r\n}\r\n.block {\r\n  color: #333;\r\n  display: block;\r\n  margin: 0 0 20px 0;\r\n  cursor: move;\r\n}\r\n/* 主工作区 end */\r\n/* 图标库 start */\r\n@font-face {\r\n  font-family: \"iconfont\";\r\n  src: url(\"../../../assets/iconfont/iconfont.eot\");\r\n  src: url(\"../../../assets/iconfont/iconfont.eot?#iefix\")\r\n      format(\"embedded-opentype\"),\r\n    url(\"../../../assets/iconfont/iconfont.woff\") format(\"woff\"),\r\n    url(\"../../../assets/iconfont/iconfont.ttf\") format(\"truetype\"),\r\n    url(\"../../../assets/iconfont/iconfont.svg#iconfont\") format(\"svg\");\r\n}\r\n.iconfont {\r\n  margin-right: 5px;\r\n  font-family: \"iconfont\" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n/* 图标库 end */\r\n/* 创建问卷模态框 start */\r\n.grid-content {\r\n  padding: 0px;\r\n  height: 280px;\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\n.item {\r\n  height: 100%;\r\n}\r\n.item img {\r\n  width: 100%;\r\n}\r\n.item p:nth-child(2) {\r\n  color: #4f4f4f;\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n.item p:nth-child(3) {\r\n  color: #4f4f4f;\r\n  font-size: 13px;\r\n  text-align: center;\r\n}\r\n.blank {\r\n  background-color: #fbfbfb; /* #c2daf3 */\r\n}\r\n.template {\r\n  background-color: #fbfbfb; /* #87a8d0 */\r\n}\r\n.import {\r\n  background-color: #fbfbfb; /* #b9ceeb */\r\n}\r\n.isChoose {\r\n  border: 3px solid #409eff;\r\n}\r\n/* 创建问卷模态框 end */\r\n/* 模态框标签样式 start */\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n.button-new-tag {\r\n  margin-left: 10px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n/* 模态框标签样式 end */\r\n</style>"],"sourceRoot":"src/views/home/design"}]}