{"remainingRequest":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/babel-loader/lib/index.js!/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/index.vue","mtime":1605753490114},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2RhdGEvT25saW5lU3VydmV5L0Zyb250RW5kL3N1cnZleXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBDb29raWVzIGZyb20gImpzLWNvb2tpZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIgogICAgICB9LAogICAgICBzZWFyY2hUZXh0OiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsiY2xlYXJUb2tlbiIsICJjbGVhclVzZXIiLCAiY2xlYXJVaWQiXSkpLCB7fSwgewogICAgaGFuZGxlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Qoa2V5KSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoID09IGtleSkgdGhpcy4kcm91dGVyLmdvKDApOyAvLyDliLfmlrDlvZPliY3pobUKICAgIH0sCiAgICBsb2dpbk91dDogZnVuY3Rpb24gbG9naW5PdXQoKSB7CiAgICAgIHRoaXMuY2xlYXJUb2tlbigiU1VSVkVZX1RPS0VOIik7CiAgICAgIHRoaXMuY2xlYXJVc2VyKCJTVVJWRVlfVVNFUiIpOwogICAgICB0aGlzLmNsZWFyVWlkKCJTVVJWRVlfVUlEIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2xvZ2luIgogICAgICB9KTsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogIumAgOWHuueZu+W9lSIsCiAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5qih57OK5p+l6K+i6Zeu5Y23CiAgICAgKi8KICAgIHNlYXJjaFN1cnZleTogZnVuY3Rpb24gc2VhcmNoU3VydmV5KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hUZXh0Lmxlbmd0aCA9PSAwKSByZXR1cm47CgogICAgICBpZiAodGhpcy4kcm91dGUucGF0aCA9PSAiL2hvbWUvc2VhcmNoIikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvaG9tZS9zZWFyY2giLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgc2VhcmNoVGV4dDogdGhpcy5zZWFyY2hUZXh0LAogICAgICAgICAgICAvL+abtOaWsHNlYXJjaFRleHQKICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgc29ydGJ5OiAiMSIKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7IC8v5Yi35paw6aG16Z2i6Kem5Y+RbW91bnRlZAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvaG9tZS9zZWFyY2giLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgc2VhcmNoVGV4dDogdGhpcy5zZWFyY2hUZXh0LAogICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICBzb3J0Ynk6ICIxIgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UoQ29va2llcy5nZXQoIlNVUlZFWV9VU0VSIikpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,OAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA,OADA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,YAAA,EAAA,WAAA,EAAA,UAAA,CAAA,CADA;AAGA,IAAA,YAHA,wBAGA,GAHA,EAGA;AACA,UAAA,KAAA,MAAA,CAAA,IAAA,IAAA,GAAA,EAAA,KAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EADA,CACA;AACA,KALA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,UAAA,CAAA,cAAA;AACA,WAAA,SAAA,CAAA,aAAA;AACA,WAAA,QAAA,CAAA,YAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,MADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAAA;AAIA,KAhBA;;AAkBA;AACA;AACA;AACA,IAAA,YArBA,0BAqBA;AACA,UAAA,KAAA,UAAA,CAAA,MAAA,IAAA,CAAA,EAAA;;AACA,UAAA,KAAA,MAAA,CAAA,IAAA,IAAA,cAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,cADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,UAAA,EAAA,KAAA,UADA;AACA;AACA,YAAA,IAAA,EAAA,CAFA;AAGA,YAAA,MAAA,EAAA;AAHA;AAFA,SAAA;AAQA,aAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EATA,CASA;AACA,OAVA,MAUA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,cADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,UAAA,EAAA,KAAA,UADA;AAEA,YAAA,IAAA,EAAA,CAFA;AAGA,YAAA,MAAA,EAAA;AAHA;AAFA,SAAA;AAQA;AACA;AA3CA,IATA;AAuDA,EAAA,OAvDA,qBAuDA;AACA,SAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,aAAA,CAAA,CAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 顶层菜单栏 -->\n    <div class=\"header\">\n      <el-menu\n        router\n        :default-active=\"this.$route.path\"\n        mode=\"horizontal\"\n        @select=\"handleSelect\"\n        active-text-color=\"#409EFF\"\n      >\n        <el-menu-item>\n          <a href=\"/\" class=\"logo\">\n            <img alt=\"logo\" src=\"@/assets/image/logo.png\" width=\"32px\" />\n            <img alt=\"title\" src=\"@/assets/image/site-title.png\" width=\"32px\" />\n          </a>\n        </el-menu-item>\n        <el-menu-item>\n          <el-input\n            v-model=\"searchText\"\n            placeholder=\"搜索其他用户公开的问卷\"\n            @keyup.enter.native=\"searchSurvey()\"\n          ></el-input>\n        </el-menu-item>\n        <el-menu-item index=\"/home/design/edit\">创建问卷</el-menu-item>\n        <el-menu-item index=\"/home/mine\">我的问卷</el-menu-item>\n        <!-- <el-menu-item index=\"/home/rank\">网站动态</el-menu-item> -->\n        <el-menu-item style=\"float:right; padding:0; margin-right:20px;\">\n          <div class=\"account\">\n            <!-- <div class=\"message\">\n              <i class=\"el-icon-message-solid\"></i>\n            </div> -->\n            <el-avatar\n              :size=\"25\"\n              style=\"background:#409EFF;color:#FFF;margin-right:15px;\"\n            >{{user.username.substring(0,1)}}</el-avatar>\n            <el-dropdown>\n              <span class=\"el-dropdown-link\">\n                {{user.username}}\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item disabled style=\"color:#666\">我的邮箱：{{user.email}}</el-dropdown-item>\n                <el-dropdown-item disabled style=\"color:#666\">注册时间：{{user.createdDate}}</el-dropdown-item>\n                <el-dropdown-item disabled divided style=\"color:#666\">上次登录时间：{{new Date().getDateDiff(new Date(user.lastLoginDate))}}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n            <span class=\"splitor\" style=\"color:#999;\">|</span>\n            <span>\n              <a class=\"loginBtn\" href=\"javascript:;\" @click=\"loginOut()\">退出</a>\n            </span>\n          </div>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <!-- 主内容 -->\n    <div class=\"contain\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\"\n      },\n      searchText: \"\"\n    };\n  },\n  methods: {\n    ...mapMutations([\"clearToken\", \"clearUser\", \"clearUid\"]),\n\n    handleSelect(key) {\n      if (this.$route.path == key) this.$router.go(0); // 刷新当前页\n    },\n\n    loginOut() {\n      this.clearToken(\"SURVEY_TOKEN\");\n      this.clearUser(\"SURVEY_USER\");\n      this.clearUid(\"SURVEY_UID\");\n      this.$router.push({ path: \"/login\" });\n      this.$message({\n        message: \"退出登录\",\n        duration: 1000\n      });\n    },\n\n    /**\n     * 模糊查询问卷\n     */\n    searchSurvey() {\n      if (this.searchText.length == 0) return;\n      if (this.$route.path == \"/home/search\") {\n        this.$router.push({\n          path: \"/home/search\",\n          query: {\n            searchText: this.searchText, //更新searchText\n            page: 1,\n            sortby: \"1\"\n          }\n        });\n        this.$router.go(0); //刷新页面触发mounted\n      } else {\n        this.$router.push({\n          path: \"/home/search\",\n          query: {\n            searchText: this.searchText,\n            page: 1,\n            sortby: \"1\"\n          }\n        });\n      }\n    },\n  },\n\n  mounted() {\n    this.user = JSON.parse(Cookies.get(\"SURVEY_USER\"));\n  }\n};\n</script>\n\n<style scoped>\n.home {\n  width: 100%;\n  height: 100%;\n}\n/* 顶部导航栏 start */\n.header {\n  height: 60px;\n  position: fixed;\n  width: 100%;\n  min-width: 780px;\n  z-index: 1000;\n}\n.header .logo img {\n  vertical-align: middle;\n}\n.header .loginBtn {\n  text-decoration: none;\n}\n.header .loginBtn:hover {\n  color: #409eff;\n}\n.header .account .message,\n.splitor {\n  display: inline-block;\n  margin: 0 10px;\n}\n.header .account .message i {\n  color: #bbb;\n  font-size: 20px;\n}\n.header .account .message i:hover {\n  color: #409eff;\n  cursor: pointer;\n}\n.header .account span {\n  color: #333;\n}\n/* 顶部导航栏 end */\n/* 主内容区 start */\n.contain {\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n}\n/* 主内容区 end */\n.el-menu-item:nth-child(1) {\n  border-bottom-color: #fff !important;\n}\n.el-menu-item:nth-child(2) {\n  border-bottom-color: #fff !important;\n}\n.el-menu-item:nth-child(5) {\n  border-bottom-color: #fff !important;\n}\n</style>\n"],"sourceRoot":"src/views/home"}]}