{"remainingRequest":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/chart/Recycle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/chart/Recycle.vue","mtime":1605753490114},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUVMgZnJvbSAicXMiOw0KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gImh0bWwyY2FudmFzIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzdW1zOiBbXSwNCiAgICAgIHN1cnZleUlkOiAiIiwNCiAgICAgIHF1ZXN0aW9uczoge30sDQogICAgICByYXRlQXZnczogW10sDQogICAgICB0eXBlczogWw0KICAgICAgICB7IHZhbHVlOiAicmFkaW8iLCB0ZXh0OiAiW+WNlemAiemimF0iIH0sDQogICAgICAgIHsgdmFsdWU6ICJjaGVja2JveCIsIHRleHQ6ICJb5aSa6YCJ6aKYXSIgfSwNCiAgICAgICAgeyB2YWx1ZTogInRleHRhcmVhIiwgdGV4dDogIlvmlofmnKzpophdIiB9LA0KICAgICAgICB7IHZhbHVlOiAicmF0ZSIsIHRleHQ6ICJb6K+E5YiG6aKYXSIgfQ0KICAgICAgXSwNCiAgICAgIHRleHRhcmVhRGF0YTogW10sDQogICAgICBjdXJyZW50VGV4dElkOiAiIiwNCiAgICAgIHRleHRUaXRsZTogIiIsDQogICAgICBkaWFsb2dUYWJsZVZpc2libGU6IGZhbHNlLA0KICAgICAgcGFnZWluZm86IHsNCiAgICAgICAgLy/mr4/pobXmlbDph48NCiAgICAgICAgcGFnZVNpemU6IDUsDQogICAgICAgIC8v5b2T5YmN6aG1DQogICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICAvL+aAu+aVsOmHjw0KICAgICAgICB0b3RhbDogMA0KICAgICAgfSwNCiAgICAgIC8vIGNoYXJ0cw0KICAgICAgY2hhcnRzOiBbXQ0KICAgIH07DQogIH0sDQoNCiAgZmlsdGVyczogew0KICAgIHR5cGVGaWx0ZXIodmFsdWUsIHR5cGVzKSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmICh2YWx1ZSA9PSB0eXBlc1tpXS52YWx1ZSkgew0KICAgICAgICAgIHJldHVybiB0eXBlc1tpXS50ZXh0Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICAvLyDlkJHmnI3liqHlmajor7fmsYLpl67ljbfkv6Hmga8NCiAgICBnZXRRdWVzdGlvbnMoKSB7DQogICAgICB0aGlzLiRodHRwLnBvc3QoInJlY3ljbGUvZGV0YWlsLyIgKyB0aGlzLnN1cnZleUlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMucXVlc3Rpb25zID0gcmVzLmRhdGE7DQogICAgICAgIC8vIOiuvue9rue7n+iuoeaKpeihqOeahOWIneWni+aYvuekuueKtuaAgQ0KICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnF1ZXN0aW9ucykgew0KICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmNoYXJ0cywga2V5LCAwKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDnrpflh7rmgLvmlbDnlKjkvZznmb7liIbmlbDorqHnrpfnmoTliIbmr40NCiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5xdWVzdGlvbnMpIHsNCiAgICAgICAgICBsZXQgc3VtID0gMDsNCiAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5xdWVzdGlvbnNba2V5XS5vcHRpb25zOw0KICAgICAgICAgIGlmIChvcHRpb25zICE9IG51bGwpIHsNCiAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgc3VtICs9IGl0ZW0ubnVtYmVyOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc3Vtcy5wdXNoKHN1bSk7DQogICAgICAgIH0NCiAgICAgICAgLy8g566X5Ye65bmz5Z2H6K+E5YiGDQogICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMucXVlc3Rpb25zKSB7DQogICAgICAgICAgbGV0IGF2ZyA9IDA7DQogICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucXVlc3Rpb25zW2tleV0ub3B0aW9uczsNCiAgICAgICAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIHRoaXMucXVlc3Rpb25zW2tleV0udHlwZSA9PSAicmF0ZSIpIHsNCiAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgYXZnICs9DQogICAgICAgICAgICAgICAgKE51bWJlcihpdGVtLnZhbHVlKSAqIE51bWJlcihpdGVtLm51bWJlcikpIC8gdGhpcy5zdW1zW2tleV07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5yYXRlQXZncy5wdXNoKE51bWJlcihhdmcudG9GaXhlZCgxKSkpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgbG9va1RleHREZXRhaWwodGl0bGUsIGlkKSB7DQogICAgICB0aGlzLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLmN1cnJlbnRUZXh0SWQgPSBpZDsNCiAgICAgIHRoaXMudGV4dFRpdGxlID0gdGl0bGU7DQogICAgICB0aGlzLnBhZ2VpbmZvLnBhZ2VTaXplID0gNTsNCiAgICAgIHRoaXMucGFnZWluZm8uY3VycmVudFBhZ2UgPSAxOw0KICAgICAgdGhpcy50ZXh0UGFnZVF1ZXJ5KGlkKTsNCiAgICB9LA0KDQogICAgdGV4dFBhZ2VRdWVyeShpZCkgew0KICAgICAgY29uc3QgZGF0YSA9IHt9Ow0KICAgICAgZGF0YS5xdWVzdGlvbklkID0gaWQ7DQogICAgICBkYXRhLnBhZ2UgPSB0aGlzLnBhZ2VpbmZvLmN1cnJlbnRQYWdlOw0KICAgICAgZGF0YS5zaXplID0gdGhpcy5wYWdlaW5mby5wYWdlU2l6ZTsNCiAgICAgIHRoaXMuJGh0dHANCiAgICAgICAgLnBvc3QoInJlY3ljbGUvZGV0YWlsL3RleHRhcmVhIiwgUVMuc3RyaW5naWZ5KGRhdGEpKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMudGV4dGFyZWFEYXRhID0gcmVzLmRhdGEubGlzdDsNCiAgICAgICAgICB0aGlzLnBhZ2VpbmZvLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvL+agueaNrumhteeggeafpeivouaVsOaNrg0KICAgIHRleHRDdXJyZW50Q2hhbmdlKHBhZ2UpIHsNCiAgICAgIHRoaXMucGFnZWluZm8uY3VycmVudFBhZ2UgPSBwYWdlOw0KICAgICAgdGhpcy50ZXh0UGFnZVF1ZXJ5KHRoaXMuY3VycmVudFRleHRJZCk7DQogICAgfSwNCg0KICAgIHRleHRTaXplQ2hhbmdlKHBhZ2VTaXplKSB7DQogICAgICB0aGlzLnBhZ2VpbmZvLnBhZ2VTaXplID0gcGFnZVNpemU7DQogICAgICB0aGlzLnBhZ2VpbmZvLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgIHRoaXMudGV4dFBhZ2VRdWVyeSh0aGlzLmN1cnJlbnRUZXh0SWQpOw0KICAgIH0sDQoNCiAgICAvLyDmiZPlvIDmlrDmoIfnrb7pobXmn6XnnIvnrZTljbcNCiAgICBvcGVuUmVjeWNsZVN1cnZleShpZCwgcmVjeWNsZUlkKSB7DQogICAgICB3aW5kb3cub3BlbigNCiAgICAgICAgYCMvdmlldy9yZWN5Y2xlP2lkPSR7aWR9JnJlY3ljbGVJZD0ke3JlY3ljbGVJZH0mc3VydmV5SWQ9JHt0aGlzLnN1cnZleUlkfWANCiAgICAgICk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmn7HlvaLlm74NCiAgICAgKi8NCiAgICBpbml0Q29sdW1uY2hhcnQoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuY2hhcnRzW2luZGV4XSAhPSAxDQogICAgICAgID8gdGhpcy4kc2V0KHRoaXMuY2hhcnRzLCBpbmRleCwgMSkNCiAgICAgICAgOiB0aGlzLiRzZXQodGhpcy5jaGFydHMsIGluZGV4LCAwKTsNCiAgICAgIGlmICh0aGlzLmNoYXJ0c1tpbmRleF0gPT09IDEpIHsNCiAgICAgICAgY29uc3QgeGRhdGEgPSBbXTsNCiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaXRlbS5vcHRpb25zKSB7DQogICAgICAgICAgeGRhdGEucHVzaChpdGVtLm9wdGlvbnNba2V5XS52YWx1ZSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgeWRhdGEgPSBbXTsNCiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaXRlbS5vcHRpb25zKSB7DQogICAgICAgICAgeWRhdGEucHVzaChpdGVtLm9wdGlvbnNba2V5XS5udW1iZXIpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgNCiAgICAgICAgICAgIHRoaXMuJHJlZnNbImNvbHVtbiIgKyBpbmRleF1bMF0sDQogICAgICAgICAgICAibWFjYXJvbnMiDQogICAgICAgICAgKTsNCiAgICAgICAgICBsZXQgb3B0aW9uID0gew0KICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgdHlwZTogImNhdGVnb3J5IiwNCiAgICAgICAgICAgICAgZGF0YTogeGRhdGENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB5QXhpczogew0KICAgICAgICAgICAgICB0eXBlOiAidmFsdWUiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdG9vbHRpcDoge30sDQogICAgICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGRhdGE6IHlkYXRhLA0KICAgICAgICAgICAgICAgIGJhcldpZHRoOiAiMzAlIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwNCiAgICAgICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHRvb2xib3g6IHsNCiAgICAgICAgICAgICAgZmVhdHVyZTogew0KICAgICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSAvLyDkv53lrZjkuLrlm77niYcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH07DQogICAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDppbznirblm74NCiAgICAgKi8NCiAgICBpbml0UGllY2hhcnQoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuY2hhcnRzW2luZGV4XSAhPSAyDQogICAgICAgID8gdGhpcy4kc2V0KHRoaXMuY2hhcnRzLCBpbmRleCwgMikNCiAgICAgICAgOiB0aGlzLiRzZXQodGhpcy5jaGFydHMsIGluZGV4LCAwKTsNCg0KICAgICAgY29uc3QgdmFsdWUgPSBbXTsNCiAgICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0ub3B0aW9ucykgew0KICAgICAgICB2YWx1ZS5wdXNoKGl0ZW0ub3B0aW9uc1trZXldLnZhbHVlKTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IGRhdGEgPSBbXTsNCiAgICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0ub3B0aW9ucykgew0KICAgICAgICBjb25zdCB0ZW1wID0ge307DQogICAgICAgIHRlbXAubmFtZSA9IGl0ZW0ub3B0aW9uc1trZXldLnZhbHVlOw0KICAgICAgICB0ZW1wLnZhbHVlID0gaXRlbS5vcHRpb25zW2tleV0ubnVtYmVyOw0KICAgICAgICBkYXRhLnB1c2godGVtcCk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGFydHNbaW5kZXhdID09PSAyKSB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgNCiAgICAgICAgICAgIHRoaXMuJHJlZnNbInBpZSIgKyBpbmRleF1bMF0sDQogICAgICAgICAgICAibWFjYXJvbnMiDQogICAgICAgICAgKTsNCiAgICAgICAgICB2YXIgb3B0aW9uID0gew0KICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICB0cmlnZ2VyOiAiaXRlbSIsDQogICAgICAgICAgICAgIGZvcm1hdHRlcjogIntifSA6IHtjfSAoe2R9JSkiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbGVnZW5kOiB7DQogICAgICAgICAgICAgIG9yaWVudDogImhvcml6b250YWwiLA0KICAgICAgICAgICAgICBjZW50ZXI6ICJjZW50ZXIiLA0KICAgICAgICAgICAgICBkYXRhOiB2YWx1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNlcmllczogWw0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdHlwZTogInBpZSIsDQogICAgICAgICAgICAgICAgcmFkaXVzOiAiNTUlIiwNCiAgICAgICAgICAgICAgICBjZW50ZXI6IFsiNTAlIiwgIjUwJSJdLA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgICAgICBlbXBoYXNpczogew0KICAgICAgICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMCwNCiAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICJyZ2JhKDAsIDAsIDAsIDAuNSkiDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgdG9vbGJveDogew0KICAgICAgICAgICAgICBmZWF0dXJlOiB7DQogICAgICAgICAgICAgICAgc2F2ZUFzSW1hZ2U6IHt9IC8vIOS/neWtmOS4uuWbvueJhw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfTsNCiAgICAgICAgICAvLyDnu5jliLblm77ooagNCiAgICAgICAgICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOeOr+W9ouWbvg0KICAgICAqLw0KICAgIGluaXRSaW5nY2hhcnQoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuY2hhcnRzW2luZGV4XSAhPSAzDQogICAgICAgID8gdGhpcy4kc2V0KHRoaXMuY2hhcnRzLCBpbmRleCwgMykNCiAgICAgICAgOiB0aGlzLiRzZXQodGhpcy5jaGFydHMsIGluZGV4LCAwKTsNCg0KICAgICAgY29uc3QgdmFsdWUgPSBbXTsNCiAgICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0ub3B0aW9ucykgew0KICAgICAgICB2YWx1ZS5wdXNoKGl0ZW0ub3B0aW9uc1trZXldLnZhbHVlKTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IGRhdGEgPSBbXTsNCiAgICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0ub3B0aW9ucykgew0KICAgICAgICBjb25zdCB0ZW1wID0ge307DQogICAgICAgIHRlbXAubmFtZSA9IGl0ZW0ub3B0aW9uc1trZXldLnZhbHVlOw0KICAgICAgICB0ZW1wLnZhbHVlID0gaXRlbS5vcHRpb25zW2tleV0ubnVtYmVyOw0KICAgICAgICBkYXRhLnB1c2godGVtcCk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGFydHNbaW5kZXhdID09PSAzKSB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgNCiAgICAgICAgICAgIHRoaXMuJHJlZnNbInJpbmciICsgaW5kZXhdWzBdLA0KICAgICAgICAgICAgIm1hY2Fyb25zIg0KICAgICAgICAgICk7DQogICAgICAgICAgdmFyIG9wdGlvbiA9IHsNCiAgICAgICAgICAgIHRvb2x0aXA6IHsNCiAgICAgICAgICAgICAgdHJpZ2dlcjogIml0ZW0iLA0KICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICJ7Yn06IHtjfSAoe2R9JSkiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbGVnZW5kOiB7DQogICAgICAgICAgICAgIG9yaWVudDogInZlcnRpY2FsIiwNCiAgICAgICAgICAgICAgbGVmdDogMTAsDQogICAgICAgICAgICAgIGRhdGE6IHZhbHVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0eXBlOiAicGllIiwNCiAgICAgICAgICAgICAgICByYWRpdXM6IFsiNTAlIiwgIjcwJSJdLA0KICAgICAgICAgICAgICAgIGF2b2lkTGFiZWxPdmVybGFwOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImNlbnRlciINCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICBlbXBoYXNpczogew0KICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogIjMwIiwNCiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAiYm9sZCINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7DQogICAgICAgICAgICAgICAgICBub3JtYWw6IHsNCiAgICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGENCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHRvb2xib3g6IHsNCiAgICAgICAgICAgICAgZmVhdHVyZTogew0KICAgICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSAvLyDkv53lrZjkuLrlm77niYcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH07DQogICAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmnaHlvaLlm74NCiAgICAgKi8NCiAgICBpbml0QmFyY2hhcnQoaXRlbSwgaW5kZXgpIHsNCiAgICAgIHRoaXMuY2hhcnRzW2luZGV4XSAhPSA0DQogICAgICAgID8gdGhpcy4kc2V0KHRoaXMuY2hhcnRzLCBpbmRleCwgNCkNCiAgICAgICAgOiB0aGlzLiRzZXQodGhpcy5jaGFydHMsIGluZGV4LCAwKTsNCiAgICAgIGlmICh0aGlzLmNoYXJ0c1tpbmRleF0gPT09IDQpIHsNCiAgICAgICAgY29uc3QgeGRhdGEgPSBbXTsNCiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaXRlbS5vcHRpb25zKSB7DQogICAgICAgICAgeGRhdGEucHVzaChpdGVtLm9wdGlvbnNba2V5XS5udW1iZXIpOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHlkYXRhID0gW107DQogICAgICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0ub3B0aW9ucykgew0KICAgICAgICAgIHlkYXRhLnB1c2goaXRlbS5vcHRpb25zW2tleV0udmFsdWUpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgNCiAgICAgICAgICAgIHRoaXMuJHJlZnNbImJhciIgKyBpbmRleF1bMF0sDQogICAgICAgICAgICAibWFjYXJvbnMiDQogICAgICAgICAgKTsNCiAgICAgICAgICBsZXQgb3B0aW9uID0gew0KICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICB0cmlnZ2VyOiAiYXhpcyIsDQogICAgICAgICAgICAgIGF4aXNQb2ludGVyOiB7DQogICAgICAgICAgICAgICAgdHlwZTogInNoYWRvdyINCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGdyaWQ6IHsNCiAgICAgICAgICAgICAgbGVmdDogIjMlIiwNCiAgICAgICAgICAgICAgcmlnaHQ6ICI0JSIsDQogICAgICAgICAgICAgIGJvdHRvbTogIjMlIiwNCiAgICAgICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgdHlwZTogInZhbHVlIiwNCiAgICAgICAgICAgICAgYm91bmRhcnlHYXA6IFswLCAwLjAxXQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgICAgIHR5cGU6ICJjYXRlZ29yeSIsDQogICAgICAgICAgICAgIGRhdGE6IHlkYXRhDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwNCiAgICAgICAgICAgICAgICBiYXJXaWR0aDogIjUwJSIsDQogICAgICAgICAgICAgICAgZGF0YTogeGRhdGENCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHRvb2xib3g6IHsNCiAgICAgICAgICAgICAgZmVhdHVyZTogew0KICAgICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSAvLyDkv53lrZjkuLrlm77niYcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH07DQogICAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBkYXRhVVJMVG9CbG9iKGRhdGF1cmwpIHsNCiAgICAgIGxldCBhcnIgPSBkYXRhdXJsLnNwbGl0KCIsIik7DQogICAgICBsZXQgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdOw0KICAgICAgbGV0IGJzdHIgPSBhdG9iKGFyclsxXSk7DQogICAgICBsZXQgbiA9IGJzdHIubGVuZ3RoOw0KICAgICAgbGV0IHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobik7DQogICAgICB3aGlsZSAobi0tKSB7DQogICAgICAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIG5ldyBCbG9iKFt1OGFycl0sIHsgdHlwZTogbWltZSB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOS/neWtmOS4uuWbvueJhw0KICAgICAqLw0KICAgIHNhdmVBc0ltYWdlKGRpdlRleHQsIGltZ1RleHQpIHsNCiAgICAgIGxldCBjYW52YXNJRCA9IHRoaXMuJHJlZnNbZGl2VGV4dF07DQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICBsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsNCiAgICAgIGh0bWwyY2FudmFzKGNhbnZhc0lEKS50aGVuKGNhbnZhcyA9PiB7DQogICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7DQogICAgICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICBhLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9tKTsNCiAgICAgICAgbGV0IGJsb2IgPSB0aGF0LmRhdGFVUkxUb0Jsb2IoZG9tLnRvRGF0YVVSTCgiaW1hZ2UvanBnIikpOw0KICAgICAgICBhLnNldEF0dHJpYnV0ZSgiaHJlZiIsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpOw0KICAgICAgICAvL+i/meWdl+aYr+S/neWtmOWbvueJh+aTjeS9nCAg5Y+v5Lul6K6+572u5L+d5a2Y55qE5Zu+54mH55qE5L+h5oGvDQogICAgICAgIGEuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGltZ1RleHQgKyAiLmpwZyIpOw0KICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOw0KICAgICAgICBhLmNsaWNrKCk7DQogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYik7DQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7DQogICAgICB9KTsNCiAgICB9DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnN1cnZleUlkID0gdGhpcy4kcm91dGUucXVlcnkuc3VydmV5SWQ7DQogICAgdGhpcy5nZXRRdWVzdGlvbnMoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Recycle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Recycle.vue","sourceRoot":"src/views/home/design/chart","sourcesContent":["<template>\r\n  <div class=\"recycle\" ref=\"recycle\">\r\n    <!-- 下载 -->\r\n    <div style=\"float:right;margin:20px 0 0 5px;\">\r\n    <el-button type=\"primary\" size=\"small\" @click=\"saveAsImage('dataReport', '统计报表')\" style=\"display:block;margin:5px auto;\">\r\n      <i\r\n        class=\"el-icon-download\"\r\n        style=\"display:block;font-size:16px;font-weight:bold;margin-bottom:5px\"\r\n      ></i>下载\r\n    </el-button>\r\n    <!-- <el-button type=\"primary\" size=\"small\" @click=\"$print($refs.dataReport)\" style=\"display:block;margin:5px auto;\">\r\n      <i\r\n        class=\"el-icon-printer\"\r\n        style=\"display:block;font-size:16px;font-weight:bold;margin-bottom:5px\"\r\n      ></i>打印\r\n    </el-button> -->\r\n    </div>\r\n      <el-card>\r\n    <div class=\"dataReport\" ref=\"dataReport\" style=\"padding:0 32px;\">\r\n      <i class=\"el-icon-data-line\"></i>\r\n          <h4>数据分析</h4>\r\n        <div v-if=\"questions.length == 0\">暂无数据</div>\r\n        <div\r\n          v-for=\"(item, index) in questions\"\r\n          :key=\"index\"\r\n          style=\"margin-bottom:30px;padding-bottom:30px;border-bottom: 1px dashed #d6d6d6;\"\r\n        >\r\n          第{{index+1}}题：{{item.title}}\r\n          <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n          <span style=\"color:#999;margin-left:10px;\">{{item.type | typeFilter(types)}}</span>\r\n          <!-- 选择题/评分题显示表格 -->\r\n          <div v-if=\"item.type=='radio' || item.type=='checkbox' || item.type=='rate'\">\r\n            <el-table :data=\"item.options\" border stripe style=\"margin:10px 0px;\">\r\n              <el-table-column\r\n                v-if=\"item.type=='radio' || item.type=='checkbox'\"\r\n                prop=\"value\"\r\n                label=\"选项\"\r\n                align=\"center\"\r\n                sortable\r\n              ></el-table-column>\r\n              <el-table-column\r\n                v-if=\"item.type=='rate'\"\r\n                prop=\"value\"\r\n                label=\"评级\"\r\n                sortable\r\n                align=\"center\"\r\n              >\r\n                <template slot-scope=\"scope\">\r\n                  {{scope.row.value}}星\r\n                  <i\r\n                    v-for=\"indx of Number(scope.row.value)\"\r\n                    :key=\"'on'+indx\"\r\n                    class=\"el-icon-star-on\"\r\n                    style=\"color:#f7ba2a;\"\r\n                  ></i>\r\n                  <i\r\n                    v-for=\"indx of (5-Number(scope.row.value))\"\r\n                    :key=\"'off'+indx\"\r\n                    class=\"el-icon-star-off\"\r\n                    style=\"color:#c6d1de\"\r\n                  ></i>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"number\" label=\"小计\" align=\"center\" sortable></el-table-column>\r\n              <el-table-column prop label=\"比例\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-progress v-if=\"sums[index]==0\" :percentage=\"0\"></el-progress>\r\n                  <el-progress\r\n                    v-if=\"!sums[index]==0\"\r\n                    :percentage=\"Number((scope.row.number / sums[index] * 100).toFixed(2))\"\r\n                  ></el-progress>\r\n                </template>\r\n              </el-table-column>\r\n              <template slot=\"append\">\r\n                <el-alert type=\"info\" :closable=\"false\" center>\r\n                  <strong slot=\"title\">本题有效填写人次：{{item.valid}}</strong>\r\n                </el-alert>\r\n              </template>\r\n            </el-table>\r\n            <!-- 评分题显示平均评分 -->\r\n            <div v-if=\"item.type=='rate'\" style=\"margin:10px 0px;\">\r\n              <el-tag>平均评分</el-tag>\r\n              <el-rate\r\n                v-model=\"rateAvgs[index]\"\r\n                disabled\r\n                show-score\r\n                text-color=\"#ff9900\"\r\n                style=\"display:inline-block;margin-left:5px;\"\r\n              ></el-rate>\r\n            </div>\r\n            <!-- 显示统计图表 -->\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"initColumnchart(item, index)\">柱形图</el-button>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"initPiechart(item, index)\">饼状图</el-button>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"initRingchart(item, index)\">环形图</el-button>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"initBarchart(item, index)\">条形图</el-button>\r\n            <div v-show=\"charts[index] == 1\" class=\"charts\" :ref=\"'column'+index\"></div>\r\n            <div v-show=\"charts[index] == 2\" class=\"charts\" :ref=\"'pie'+index\"></div>\r\n            <div v-show=\"charts[index] == 3\" class=\"charts\" :ref=\"'ring'+index\"></div>\r\n            <div v-show=\"charts[index] == 4\" class=\"charts\" :ref=\"'bar'+index\"></div>\r\n          </div>\r\n          <!-- 文本题显示按钮 -->\r\n          <el-button\r\n            v-if=\"item.type=='textarea'\"\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            style=\"display:block;margin:10px 0px;\"\r\n            @click=\"lookTextDetail(`第${index+1}题：${item.title}`, item.id)\"\r\n          >查看详细信息</el-button>\r\n        </div>\r\n    </div>\r\n      </el-card>\r\n    <el-dialog\r\n      :title=\"textTitle\"\r\n      :visible.sync=\"dialogTableVisible\"\r\n      :append-to-body=\"true\"\r\n      width=\"60%\"\r\n    >\r\n      <el-table :data=\"textareaData\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"75\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{scope.$index+(pageinfo.currentPage - 1) * pageinfo.pageSize + 1}}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column property=\"submitDate\" label=\"提交答卷时间\" width=\"200\" align=\"center\"></el-table-column>\r\n        <el-table-column property=\"content\" label=\"答案文本\"></el-table-column>\r\n        <el-table-column label=\"查看答卷\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              @click=\"openRecycleSurvey(scope.$index+(pageinfo.currentPage - 1) * pageinfo.pageSize + 1, scope.row.recycleId)\"\r\n            >查看答卷</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next,sizes,total\"\r\n        :page-sizes=\"[5, 10, 15, 20]\"\r\n        :page-size=\"pageinfo.pageSize\"\r\n        :current-page=\"pageinfo.currentPage\"\r\n        :total=\"pageinfo.total\"\r\n        style=\"margin-top: 10px;\"\r\n        @current-change=\"textCurrentChange\"\r\n        @size-change=\"textSizeChange\"\r\n      ></el-pagination>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QS from \"qs\";\r\nimport html2canvas from \"html2canvas\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sums: [],\r\n      surveyId: \"\",\r\n      questions: {},\r\n      rateAvgs: [],\r\n      types: [\r\n        { value: \"radio\", text: \"[单选题]\" },\r\n        { value: \"checkbox\", text: \"[多选题]\" },\r\n        { value: \"textarea\", text: \"[文本题]\" },\r\n        { value: \"rate\", text: \"[评分题]\" }\r\n      ],\r\n      textareaData: [],\r\n      currentTextId: \"\",\r\n      textTitle: \"\",\r\n      dialogTableVisible: false,\r\n      pageinfo: {\r\n        //每页数量\r\n        pageSize: 5,\r\n        //当前页\r\n        currentPage: 1,\r\n        //总数量\r\n        total: 0\r\n      },\r\n      // charts\r\n      charts: []\r\n    };\r\n  },\r\n\r\n  filters: {\r\n    typeFilter(value, types) {\r\n      for (let i = 0; i < types.length; i++) {\r\n        if (value == types[i].value) {\r\n          return types[i].text;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 向服务器请求问卷信息\r\n    getQuestions() {\r\n      this.$http.post(\"recycle/detail/\" + this.surveyId).then(res => {\r\n        this.questions = res.data;\r\n        // 设置统计报表的初始显示状态\r\n        for (const key in this.questions) {\r\n          this.$set(this.charts, key, 0);\r\n        }\r\n        // 算出总数用作百分数计算的分母\r\n        for (const key in this.questions) {\r\n          let sum = 0;\r\n          const options = this.questions[key].options;\r\n          if (options != null) {\r\n            options.forEach(item => {\r\n              sum += item.number;\r\n            });\r\n          }\r\n          this.sums.push(sum);\r\n        }\r\n        // 算出平均评分\r\n        for (const key in this.questions) {\r\n          let avg = 0;\r\n          const options = this.questions[key].options;\r\n          if (options != null && this.questions[key].type == \"rate\") {\r\n            options.forEach(item => {\r\n              avg +=\r\n                (Number(item.value) * Number(item.number)) / this.sums[key];\r\n            });\r\n          }\r\n          this.rateAvgs.push(Number(avg.toFixed(1)));\r\n        }\r\n      });\r\n    },\r\n\r\n    lookTextDetail(title, id) {\r\n      this.dialogTableVisible = true;\r\n      this.currentTextId = id;\r\n      this.textTitle = title;\r\n      this.pageinfo.pageSize = 5;\r\n      this.pageinfo.currentPage = 1;\r\n      this.textPageQuery(id);\r\n    },\r\n\r\n    textPageQuery(id) {\r\n      const data = {};\r\n      data.questionId = id;\r\n      data.page = this.pageinfo.currentPage;\r\n      data.size = this.pageinfo.pageSize;\r\n      this.$http\r\n        .post(\"recycle/detail/textarea\", QS.stringify(data))\r\n        .then(res => {\r\n          this.textareaData = res.data.list;\r\n          this.pageinfo.total = res.data.count;\r\n        });\r\n    },\r\n\r\n    //根据页码查询数据\r\n    textCurrentChange(page) {\r\n      this.pageinfo.currentPage = page;\r\n      this.textPageQuery(this.currentTextId);\r\n    },\r\n\r\n    textSizeChange(pageSize) {\r\n      this.pageinfo.pageSize = pageSize;\r\n      this.pageinfo.currentPage = 1;\r\n      this.textPageQuery(this.currentTextId);\r\n    },\r\n\r\n    // 打开新标签页查看答卷\r\n    openRecycleSurvey(id, recycleId) {\r\n      window.open(\r\n        `#/view/recycle?id=${id}&recycleId=${recycleId}&surveyId=${this.surveyId}`\r\n      );\r\n    },\r\n    /**\r\n     * 柱形图\r\n     */\r\n    initColumnchart(item, index) {\r\n      this.charts[index] != 1\r\n        ? this.$set(this.charts, index, 1)\r\n        : this.$set(this.charts, index, 0);\r\n      if (this.charts[index] === 1) {\r\n        const xdata = [];\r\n        for (const key in item.options) {\r\n          xdata.push(item.options[key].value);\r\n        }\r\n        const ydata = [];\r\n        for (const key in item.options) {\r\n          ydata.push(item.options[key].number);\r\n        }\r\n        this.$nextTick(() => {\r\n          var myChart = this.$echarts.init(\r\n            this.$refs[\"column\" + index][0],\r\n            \"macarons\"\r\n          );\r\n          let option = {\r\n            xAxis: {\r\n              type: \"category\",\r\n              data: xdata\r\n            },\r\n            yAxis: {\r\n              type: \"value\"\r\n            },\r\n            tooltip: {},\r\n            series: [\r\n              {\r\n                data: ydata,\r\n                barWidth: \"30%\",\r\n                type: \"bar\",\r\n                label: {\r\n                  show: true,\r\n                  position: \"top\"\r\n                }\r\n              }\r\n            ],\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {} // 保存为图片\r\n              }\r\n            }\r\n          };\r\n          // 绘制图表\r\n          myChart.setOption(option);\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 饼状图\r\n     */\r\n    initPiechart(item, index) {\r\n      this.charts[index] != 2\r\n        ? this.$set(this.charts, index, 2)\r\n        : this.$set(this.charts, index, 0);\r\n\r\n      const value = [];\r\n      for (const key in item.options) {\r\n        value.push(item.options[key].value);\r\n      }\r\n      const data = [];\r\n      for (const key in item.options) {\r\n        const temp = {};\r\n        temp.name = item.options[key].value;\r\n        temp.value = item.options[key].number;\r\n        data.push(temp);\r\n      }\r\n      if (this.charts[index] === 2) {\r\n        this.$nextTick(() => {\r\n          var myChart = this.$echarts.init(\r\n            this.$refs[\"pie\" + index][0],\r\n            \"macarons\"\r\n          );\r\n          var option = {\r\n            tooltip: {\r\n              trigger: \"item\",\r\n              formatter: \"{b} : {c} ({d}%)\"\r\n            },\r\n            legend: {\r\n              orient: \"horizontal\",\r\n              center: \"center\",\r\n              data: value\r\n            },\r\n            series: [\r\n              {\r\n                type: \"pie\",\r\n                radius: \"55%\",\r\n                center: [\"50%\", \"50%\"],\r\n                data: data,\r\n                itemStyle: {\r\n                  emphasis: {\r\n                    shadowBlur: 10,\r\n                    shadowOffsetX: 0,\r\n                    shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n                  }\r\n                }\r\n              }\r\n            ],\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {} // 保存为图片\r\n              }\r\n            }\r\n          };\r\n          // 绘制图表\r\n          myChart.setOption(option);\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 环形图\r\n     */\r\n    initRingchart(item, index) {\r\n      this.charts[index] != 3\r\n        ? this.$set(this.charts, index, 3)\r\n        : this.$set(this.charts, index, 0);\r\n\r\n      const value = [];\r\n      for (const key in item.options) {\r\n        value.push(item.options[key].value);\r\n      }\r\n      const data = [];\r\n      for (const key in item.options) {\r\n        const temp = {};\r\n        temp.name = item.options[key].value;\r\n        temp.value = item.options[key].number;\r\n        data.push(temp);\r\n      }\r\n      if (this.charts[index] === 3) {\r\n        this.$nextTick(() => {\r\n          var myChart = this.$echarts.init(\r\n            this.$refs[\"ring\" + index][0],\r\n            \"macarons\"\r\n          );\r\n          var option = {\r\n            tooltip: {\r\n              trigger: \"item\",\r\n              formatter: \"{b}: {c} ({d}%)\"\r\n            },\r\n            legend: {\r\n              orient: \"vertical\",\r\n              left: 10,\r\n              data: value\r\n            },\r\n            series: [\r\n              {\r\n                type: \"pie\",\r\n                radius: [\"50%\", \"70%\"],\r\n                avoidLabelOverlap: false,\r\n                label: {\r\n                  normal: {\r\n                    show: false,\r\n                    position: \"center\"\r\n                  },\r\n                  emphasis: {\r\n                    show: true,\r\n                    textStyle: {\r\n                      fontSize: \"30\",\r\n                      fontWeight: \"bold\"\r\n                    }\r\n                  }\r\n                },\r\n                labelLine: {\r\n                  normal: {\r\n                    show: false\r\n                  }\r\n                },\r\n                data: data\r\n              }\r\n            ],\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {} // 保存为图片\r\n              }\r\n            }\r\n          };\r\n          // 绘制图表\r\n          myChart.setOption(option);\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 条形图\r\n     */\r\n    initBarchart(item, index) {\r\n      this.charts[index] != 4\r\n        ? this.$set(this.charts, index, 4)\r\n        : this.$set(this.charts, index, 0);\r\n      if (this.charts[index] === 4) {\r\n        const xdata = [];\r\n        for (const key in item.options) {\r\n          xdata.push(item.options[key].number);\r\n        }\r\n        const ydata = [];\r\n        for (const key in item.options) {\r\n          ydata.push(item.options[key].value);\r\n        }\r\n        this.$nextTick(() => {\r\n          var myChart = this.$echarts.init(\r\n            this.$refs[\"bar\" + index][0],\r\n            \"macarons\"\r\n          );\r\n          let option = {\r\n            tooltip: {\r\n              trigger: \"axis\",\r\n              axisPointer: {\r\n                type: \"shadow\"\r\n              }\r\n            },\r\n            grid: {\r\n              left: \"3%\",\r\n              right: \"4%\",\r\n              bottom: \"3%\",\r\n              containLabel: true\r\n            },\r\n            xAxis: {\r\n              type: \"value\",\r\n              boundaryGap: [0, 0.01]\r\n            },\r\n            yAxis: {\r\n              type: \"category\",\r\n              data: ydata\r\n            },\r\n            series: [\r\n              {\r\n                type: \"bar\",\r\n                barWidth: \"50%\",\r\n                data: xdata\r\n              }\r\n            ],\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {} // 保存为图片\r\n              }\r\n            }\r\n          };\r\n          // 绘制图表\r\n          myChart.setOption(option);\r\n        });\r\n      }\r\n    },\r\n    dataURLToBlob(dataurl) {\r\n      let arr = dataurl.split(\",\");\r\n      let mime = arr[0].match(/:(.*?);/)[1];\r\n      let bstr = atob(arr[1]);\r\n      let n = bstr.length;\r\n      let u8arr = new Uint8Array(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new Blob([u8arr], { type: mime });\r\n    },\r\n    /**\r\n     * 保存为图片\r\n     */\r\n    saveAsImage(divText, imgText) {\r\n      let canvasID = this.$refs[divText];\r\n      let that = this;\r\n      let a = document.createElement(\"a\");\r\n      html2canvas(canvasID).then(canvas => {\r\n        let dom = document.body.appendChild(canvas);\r\n        dom.style.display = \"none\";\r\n        a.style.display = \"none\";\r\n        document.body.removeChild(dom);\r\n        let blob = that.dataURLToBlob(dom.toDataURL(\"image/jpg\"));\r\n        a.setAttribute(\"href\", URL.createObjectURL(blob));\r\n        //这块是保存图片操作  可以设置保存的图片的信息\r\n        a.setAttribute(\"download\", imgText + \".jpg\");\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        URL.revokeObjectURL(blob);\r\n        document.body.removeChild(a);\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.surveyId = this.$route.query.surveyId;\r\n    this.getQuestions();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.recycle .el-progress__text {\r\n  display: block;\r\n}\r\n.recycle table thead {\r\n  background-color: #f5f7fa;\r\n}\r\n</style>\r\n<style scoped>\r\n.recycle {\r\n  margin: 20px 0;\r\n  width: 861px;\r\n  margin-left: 100px;\r\n}\r\n.must {\r\n  color: #ff6161;\r\n}\r\n.charts {\r\n  height: 280px;\r\n  padding-top: 20px;\r\n  width: 100%;\r\n  border: 1px solid #d6d6d6;\r\n  border-radius: 10px;\r\n  margin-top: 10px;\r\n}\r\nh4 {\r\n  display: inline-block;\r\n  margin-left: 5px;\r\n}\r\n.explain {\r\n  color: #4f4f4f;\r\n  font-size: 14px;\r\n}\r\n</style>"]}]}