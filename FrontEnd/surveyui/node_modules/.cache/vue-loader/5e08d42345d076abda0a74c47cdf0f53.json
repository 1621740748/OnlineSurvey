{"remainingRequest":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/index.vue?vue&type=style&index=0&id=8ca04a38&scoped=true&lang=css&","dependencies":[{"path":"/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/index.vue","mtime":1605753490114},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaG9tZSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9Ci8qIOmhtumDqOWvvOiIquagjyBzdGFydCAqLwouaGVhZGVyIHsKICBoZWlnaHQ6IDYwcHg7CiAgcG9zaXRpb246IGZpeGVkOwogIHdpZHRoOiAxMDAlOwogIG1pbi13aWR0aDogNzgwcHg7CiAgei1pbmRleDogMTAwMDsKfQouaGVhZGVyIC5sb2dvIGltZyB7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQouaGVhZGVyIC5sb2dpbkJ0biB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5oZWFkZXIgLmxvZ2luQnRuOmhvdmVyIHsKICBjb2xvcjogIzQwOWVmZjsKfQouaGVhZGVyIC5hY2NvdW50IC5tZXNzYWdlLAouc3BsaXRvciB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1hcmdpbjogMCAxMHB4Owp9Ci5oZWFkZXIgLmFjY291bnQgLm1lc3NhZ2UgaSB7CiAgY29sb3I6ICNiYmI7CiAgZm9udC1zaXplOiAyMHB4Owp9Ci5oZWFkZXIgLmFjY291bnQgLm1lc3NhZ2UgaTpob3ZlciB7CiAgY29sb3I6ICM0MDllZmY7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5oZWFkZXIgLmFjY291bnQgc3BhbiB7CiAgY29sb3I6ICMzMzM7Cn0KLyog6aG26YOo5a+86Iiq5qCPIGVuZCAqLwovKiDkuLvlhoXlrrnljLogc3RhcnQgKi8KLmNvbnRhaW4gewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdy14OiBhdXRvOwp9Ci8qIOS4u+WGheWuueWMuiBlbmQgKi8KLmVsLW1lbnUtaXRlbTpudGgtY2hpbGQoMSkgewogIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmYgIWltcG9ydGFudDsKfQouZWwtbWVudS1pdGVtOm50aC1jaGlsZCgyKSB7CiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmZiAhaW1wb3J0YW50Owp9Ci5lbC1tZW51LWl0ZW06bnRoLWNoaWxkKDUpIHsKICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 顶层菜单栏 -->\n    <div class=\"header\">\n      <el-menu\n        router\n        :default-active=\"this.$route.path\"\n        mode=\"horizontal\"\n        @select=\"handleSelect\"\n        active-text-color=\"#409EFF\"\n      >\n        <el-menu-item>\n          <a href=\"/\" class=\"logo\">\n            <img alt=\"logo\" src=\"@/assets/image/logo.png\" width=\"32px\" />\n            <img alt=\"title\" src=\"@/assets/image/site-title.png\" width=\"32px\" />\n          </a>\n        </el-menu-item>\n        <el-menu-item>\n          <el-input\n            v-model=\"searchText\"\n            placeholder=\"搜索其他用户公开的问卷\"\n            @keyup.enter.native=\"searchSurvey()\"\n          ></el-input>\n        </el-menu-item>\n        <el-menu-item index=\"/home/design/edit\">创建问卷</el-menu-item>\n        <el-menu-item index=\"/home/mine\">我的问卷</el-menu-item>\n        <!-- <el-menu-item index=\"/home/rank\">网站动态</el-menu-item> -->\n        <el-menu-item style=\"float:right; padding:0; margin-right:20px;\">\n          <div class=\"account\">\n            <!-- <div class=\"message\">\n              <i class=\"el-icon-message-solid\"></i>\n            </div> -->\n            <el-avatar\n              :size=\"25\"\n              style=\"background:#409EFF;color:#FFF;margin-right:15px;\"\n            >{{user.username.substring(0,1)}}</el-avatar>\n            <el-dropdown>\n              <span class=\"el-dropdown-link\">\n                {{user.username}}\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item disabled style=\"color:#666\">我的邮箱：{{user.email}}</el-dropdown-item>\n                <el-dropdown-item disabled style=\"color:#666\">注册时间：{{user.createdDate}}</el-dropdown-item>\n                <el-dropdown-item disabled divided style=\"color:#666\">上次登录时间：{{new Date().getDateDiff(new Date(user.lastLoginDate))}}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n            <span class=\"splitor\" style=\"color:#999;\">|</span>\n            <span>\n              <a class=\"loginBtn\" href=\"javascript:;\" @click=\"loginOut()\">退出</a>\n            </span>\n          </div>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <!-- 主内容 -->\n    <div class=\"contain\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\"\n      },\n      searchText: \"\"\n    };\n  },\n  methods: {\n    ...mapMutations([\"clearToken\", \"clearUser\", \"clearUid\"]),\n\n    handleSelect(key) {\n      if (this.$route.path == key) this.$router.go(0); // 刷新当前页\n    },\n\n    loginOut() {\n      this.clearToken(\"SURVEY_TOKEN\");\n      this.clearUser(\"SURVEY_USER\");\n      this.clearUid(\"SURVEY_UID\");\n      this.$router.push({ path: \"/login\" });\n      this.$message({\n        message: \"退出登录\",\n        duration: 1000\n      });\n    },\n\n    /**\n     * 模糊查询问卷\n     */\n    searchSurvey() {\n      if (this.searchText.length == 0) return;\n      if (this.$route.path == \"/home/search\") {\n        this.$router.push({\n          path: \"/home/search\",\n          query: {\n            searchText: this.searchText, //更新searchText\n            page: 1,\n            sortby: \"1\"\n          }\n        });\n        this.$router.go(0); //刷新页面触发mounted\n      } else {\n        this.$router.push({\n          path: \"/home/search\",\n          query: {\n            searchText: this.searchText,\n            page: 1,\n            sortby: \"1\"\n          }\n        });\n      }\n    },\n  },\n\n  mounted() {\n    this.user = JSON.parse(Cookies.get(\"SURVEY_USER\"));\n  }\n};\n</script>\n\n<style scoped>\n.home {\n  width: 100%;\n  height: 100%;\n}\n/* 顶部导航栏 start */\n.header {\n  height: 60px;\n  position: fixed;\n  width: 100%;\n  min-width: 780px;\n  z-index: 1000;\n}\n.header .logo img {\n  vertical-align: middle;\n}\n.header .loginBtn {\n  text-decoration: none;\n}\n.header .loginBtn:hover {\n  color: #409eff;\n}\n.header .account .message,\n.splitor {\n  display: inline-block;\n  margin: 0 10px;\n}\n.header .account .message i {\n  color: #bbb;\n  font-size: 20px;\n}\n.header .account .message i:hover {\n  color: #409eff;\n  cursor: pointer;\n}\n.header .account span {\n  color: #333;\n}\n/* 顶部导航栏 end */\n/* 主内容区 start */\n.contain {\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n}\n/* 主内容区 end */\n.el-menu-item:nth-child(1) {\n  border-bottom-color: #fff !important;\n}\n.el-menu-item:nth-child(2) {\n  border-bottom-color: #fff !important;\n}\n.el-menu-item:nth-child(5) {\n  border-bottom-color: #fff !important;\n}\n</style>\n"]}]}