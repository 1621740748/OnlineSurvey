{"remainingRequest":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/Edit.vue?vue&type=style&index=1&id=191f2145&scoped=true&lang=css&","dependencies":[{"path":"/data/OnlineSurvey/FrontEnd/surveyui/src/views/home/design/Edit.vue","mtime":1605753490110},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/OnlineSurvey/FrontEnd/surveyui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWwtdGltZWxpbmUgew0KICBwYWRkaW5nLXRvcDogMTVweDsNCiAgcGFkZGluZy1sZWZ0OiAxNXB4Ow0KfQ0KLyog5bem5L6n57yW6L6R5bel5YW35qCPIHN0YXJ0ICovDQouZWRpdC1zaWRlYmFyIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB0b3A6IDEyMnB4Ow0KICBsZWZ0OiAwOw0KICBib3R0b206IDA7DQogIHdpZHRoOiAyNTFweDsNCiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2UwZTBlMDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTsNCiAgei1pbmRleDogMTA7DQogIHRyYW5zaXRpb246IDAuM3M7DQp9DQouYnRuX3NpZGViYXJfc3dpdGNoIHsNCiAgd2lkdGg6IDExMHB4Ow0KICBoZWlnaHQ6IDM1cHg7DQogIGxpbmUtaGVpZ2h0OiAzNXB4Ow0KICBib3JkZXItcmFkaXVzOiAwIDM1cHggMzVweCAwOw0KICBwYWRkaW5nLXJpZ2h0OiAxMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IDI1MXB4Ow0KICBjdXJzb3I6IHBvaW50ZXI7DQogIHRleHQtYWxpZ246IHJpZ2h0Ow0KICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsNCiAgYm9yZGVyLWxlZnQ6IG5vbmU7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgY29sb3I6ICM0YTRhNGE7DQp9DQouYnRuX3NpZGViYXJfc3dpdGNoIGkgew0KICBtYXJnaW4tbGVmdDogMTBweDsNCiAgbWFyZ2luLWJvdHRvbTogM3B4Ow0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICBmb250LXNpemU6IDIycHg7DQogIGNvbG9yOiAjNGE0YTRhOw0KfQ0KLmVkaXQtc2lkZWJhciAuZWRpdC1sZWZ0LW5hdiB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAwOw0KICBsZWZ0OiAwOw0KICBib3R0b206IDA7DQogIHotaW5kZXg6IDExOw0KICB3aWR0aDogNjBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2Q4ZDhkODsNCn0NCi5lZGl0LXNpZGViYXIgLmVkaXQtbGVmdC1uYXYgdWwgew0KICBsaXN0LXN0eWxlOiBub25lOw0KICBtYXJnaW46IDA7DQogIHBhZGRpbmc6IDA7DQp9DQouZWRpdC1zaWRlYmFyIC5lZGl0LWxlZnQtbmF2IHVsIGxpIHsNCiAgd2lkdGg6IDQwcHg7DQogIGhlaWdodDogNTVweDsNCiAgbWFyZ2luOiAxMHB4IDEwcHggMzBweCAxMHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLmN1cnJlbnROYXYgew0KICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5ZWZmOw0KICB0cmFuc2l0aW9uOiAwLjJzOw0KfQ0KLmN1cnJlbnROYXY6aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5ZWZmICFpbXBvcnRhbnQ7DQp9DQouZWRpdC1zaWRlYmFyIC5lZGl0LWxlZnQtbmF2IHVsIGxpIHsNCiAgY29sb3I6ICM0ODQ4NDg7DQp9DQouZWRpdC1zaWRlYmFyIC5lZGl0LWxlZnQtbmF2IHVsIGxpIGkgew0KICBjb2xvcjogIzQ4NDg0ODsNCiAgZm9udC1zaXplOiAyNHB4Ow0KICBwYWRkaW5nOiA1cHg7DQogIGJvcmRlci1yYWRpdXM6IDdweDsNCn0NCi5lZGl0LXNpZGViYXIgLmVkaXQtbGVmdC1uYXYgdWwgbGkgaTpob3ZlciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNlZWU7DQp9DQouZWRpdC1zaWRlYmFyIC5lZGl0LWxlZnQtcXVlc3Rib3ggew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogMDsNCiAgbGVmdDogNjBweDsNCiAgYm90dG9tOiAwOw0KICB3aWR0aDogMTkwcHg7DQp9DQouZWRpdC1sZWZ0LXF1ZXN0Ym94IGgzIHsNCiAgY29sb3I6ICMzMzM7DQogIG1hcmdpbjogMTJweDsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgcG9zaXRpb246IGZpeGVkOw0KfQ0KLmVkaXQtbGVmdC1xdWVzdGJveCAuY29udGVudCB7DQogIG1hcmdpbi10b3A6IDUwcHg7DQogIC8qIHdpZHRoOiA5NSU7ICovDQogIGhlaWdodDogY2FsYygxMDAlIC0gNTBweCk7DQogIG92ZXJmbG93LXg6IGhpZGRlbjsNCiAgb3ZlcmZsb3cteTogc2Nyb2xsOw0KfQ0KLmVkaXQtbGVmdC1xdWVzdGJveCAucXMtYnRuIHsNCiAgbWFyZ2luOiAxMHB4IDEwJTsNCiAgd2lkdGg6IDgwJTsNCn0NCi5lZGl0LWxlZnQtcXVlc3Rib3ggLmhlYWRlci1pY29uIHsNCiAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCi5lZGl0LWxlZnQtcXVlc3Rib3ggLmNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi8qIOmimOW6k+mdouadv+agt+W8jyBzdGFydCAqLw0KLndvcmRzLWVsbGlwc2lzIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAvKiDlhbPplK4gKi8NCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogIG92ZXJmbG93OiBoaWRkZW47DQp9DQoucXVlc3QtYmFuay1pbmZvLWJ0biB7DQogIGZsb2F0OiByaWdodDsNCiAgZm9udC1zaXplOiAxNnB4Ow0KICBsaW5lLWhlaWdodDogMzBweDsNCiAgY29sb3I6ICM5OTk7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgdHJhbnNpdGlvbjogMC4zczsNCn0NCi5xdWVzdC1iYW5rLWluZm8tYnRuOmhvdmVyIHsNCiAgY29sb3I6ICM0MDllZmY7DQp9DQoucXVlc3QtYmFuay1kZWwtYnRuIHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KICBmb250LXNpemU6IDE2cHg7DQogIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICBjb2xvcjogIzk5OTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICB0cmFuc2l0aW9uOiAwLjNzOw0KICBtYXJnaW4tcmlnaHQ6IDNweDsNCn0NCi5xdWVzdC1iYW5rLWRlbC1idG46aG92ZXIgew0KICBjb2xvcjogI2ZmNjE2MTsNCn0NCi5xdWVzdC1iYW5rLWl0ZW0gew0KICBjdXJzb3I6IHBvaW50ZXI7DQogIHBhZGRpbmctbGVmdDogNXB4Ow0KICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgaGVpZ2h0OiAzMHB4Ow0KICBsaW5lLWhlaWdodDogMzBweDsNCn0NCi5xdWVzdC1iYW5rLWl0ZW06aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KfQ0KLyog6aKY5bqT6Z2i5p2/5qC35byPIGVuZCAqLw0KLyog5bem5L6n57yW6L6R5bel5YW35qCPIGVuZCAqLw0KLyog5Li75bel5L2c5Yy6IHN0YXJ0ICovDQouZWRpdC1jb250YWluIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB0b3A6IDEyMnB4Ow0KICBib3R0b206IDA7DQogIGxlZnQ6IDI1MXB4Ow0KICByaWdodDogMDsNCiAgcGFkZGluZzogMjBweCAyMHB4IDUwcHggMjBweDsNCiAgdHJhbnNpdGlvbjogMC4zczsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjZmOTsNCiAgb3ZlcmZsb3c6IGF1dG87DQp9DQovKiDmu5rliqjmnaHmoLflvI8gc3RhcnQgKi8NCi5lZGl0LWNvbnRhaW46Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgd2lkdGg6IDEwcHg7DQp9DQouZWRpdC1jb250YWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCi5lZGl0LWNvbnRhaW46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpOw0KfQ0KLyog5rua5Yqo5p2h5qC35byPIGVuZCAqLw0KLmVkaXQtY29udGFpbiAuc3VydmV5LA0KLm1vZGlmeVBhbmVsIHsNCiAgbWF4LXdpZHRoOiA5ODBweDsNCiAgbWluLXdpZHRoOiA3MzBweDsNCiAgbWFyZ2luOiA0MHB4IGF1dG87DQogIHBhZGRpbmctdG9wOiA1MHB4Ow0KICBwYWRkaW5nLWJvdHRvbTogMTAwcHg7DQp9DQovKiDnvJbovpHmqKHlvI/pgInmi6npnaLmnb8gc3RhcnQgKi8NCi5tb2RpZnlQYW5lbCBoMSB7DQogIGNvbG9yOiAjZWJmMGY1Ow0KICBmb250LXNpemU6IDU2cHg7DQogIGZvbnQtd2VpZ2h0OiA1MDA7DQogIG1hcmdpbjogMTVweDsNCiAgaGVpZ2h0OiA0OHB4Ow0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQp9DQoubW9kaWZ5UGFuZWwgLnBhdHRlcm4gew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7DQogIHdpZHRoOiAxMDAlOw0KICBwYWRkaW5nOiAyMHB4IDAgMjBweCAxMHB4Ow0KfQ0KLm1vZGlmeVBhbmVsIC5jaG9vc2VfdGVtcF9tb2RpZnlfdHlwZSB7DQogIGJvcmRlcjogM3B4IHNvbGlkICM0MDllZmY7DQp9DQoubW9kaWZ5UGFuZWwgLmNob29zZV90ZW1wX21vZGlmeV90eXBlIGgxIHsNCiAgY29sb3I6ICM0MDllZmY7DQp9DQoucGF0dGVybiBwIHsNCiAgbWFyZ2luOiAwOw0KICBwYWRkaW5nOiA1cHggMHB4Ow0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KLnBhdHRlcm4gcDpudGgtY2hpbGQoMSkgew0KICBjb2xvcjogIzMzMzsNCiAgZm9udC1zaXplOiAxNnB4Ow0KfQ0KLnBhdHRlcm4gcDpudGgtY2hpbGQoMikgew0KICBjb2xvcjogIzY2NjsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KLyog57yW6L6R5qih5byP6YCJ5oup6Z2i5p2/IGVuZCAqLw0KLmVkaXQtY29udGFpbiAuc3VydmV5IC50aXRsZSwNCi5pbnRybyB7DQogIHBhZGRpbmc6IDFweCAzNXB4Ow0KICBtYXJnaW46IDVweCAwcHg7DQogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZmZmOw0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ZmZjsNCn0NCi5lZGl0LWNvbnRhaW4gLnN1cnZleSAudGl0bGUgaDEsDQouaW50cm8gcCB7DQogIGNvbG9yOiAjMzMzOw0KICBmb250LXdlaWdodDogNTAwOw0KICBtYXJnaW46IDEwcHg7DQogIHBhZGRpbmc6IDEwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7DQp9DQouZWRpdC1jb250YWluIC5zdXJ2ZXkgLnRpdGxlOmhvdmVyLA0KLmludHJvOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTsNCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlMGUwZTA7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOw0KICBjdXJzb3I6IHRleHQ7DQp9DQouZWRpdC1jb250YWluIC5zdXJ2ZXkgLnRpdGxlOmhvdmVyID4gaDEsDQouaW50cm86aG92ZXIgPiBwIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTsNCn0NCi5lZGl0LWNvbnRhaW4gLnN1cnZleSAucXVlc3QtbGlzdCB7DQogIHBhZGRpbmc6IDM1cHggNTVweDsNCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNmZmY7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmOw0KICBjdXJzb3I6IG1vdmU7DQp9DQouY2hvb3NlIHsNCiAgYm9yZGVyOiAycHggc29saWQgIzQwOWVmZiAhaW1wb3J0YW50Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7DQogIGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50Ow0KfQ0KLmVkaXQtY29udGFpbiAuc3VydmV5IC5xdWVzdC1saXN0OmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTsNCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlMGUwZTA7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOw0KfQ0KLnF1ZXN0aW9uLWJ0biB7DQogIC8qIGRpc3BsYXk6IG5vbmU7ICovDQogIHZpc2liaWxpdHk6IGhpZGRlbjsNCiAgZmxvYXQ6IHJpZ2h0Ow0KICBwYWRkaW5nOiA3cHg7DQogIG1hcmdpbjogMCAzcHg7DQp9DQouZWRpdC1jb250YWluIC5zdXJ2ZXkgLnF1ZXN0LWxpc3Q6aG92ZXIgLnF1ZXN0aW9uLWJ0biB7DQogIC8qIGRpc3BsYXk6IGJsb2NrOyAqLw0KICB2aXNpYmlsaXR5OiB2aXNpYmxlOw0KfQ0KLmVkaXQtY29udGFpbiAuc3VydmV5IC5xdWVzdC1saXN0IHAgew0KICBtYXJnaW4tdG9wOiAwOw0KfQ0KLmVkaXQtY29udGFpbiAuc3VydmV5IC5xdWVzdC1saXN0IHAgLm11c3Qgew0KICBjb2xvcjogI2ZmNjE2MTsNCiAgZm9udC1zaXplOiAxOHB4Ow0KfQ0KLnF1ZXN0LWxpc3QgLnFzLWNvbnRhaW4gew0KICB3aWR0aDogMTAwJTsNCiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBjb2xvcjogIzQ0NDsNCiAgZm9udC1zaXplOiAxNnB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCn0NCi5pbmxpbmVCbG9jayB7DQogIG1hcmdpbjogMCAzMHB4IDEwcHggMDsNCiAgY3Vyc29yOiBtb3ZlOw0KfQ0KLmJsb2NrIHsNCiAgY29sb3I6ICMzMzM7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBtYXJnaW46IDAgMCAyMHB4IDA7DQogIGN1cnNvcjogbW92ZTsNCn0NCi8qIOS4u+W3peS9nOWMuiBlbmQgKi8NCi8qIOWbvuagh+W6kyBzdGFydCAqLw0KQGZvbnQtZmFjZSB7DQogIGZvbnQtZmFtaWx5OiAiaWNvbmZvbnQiOw0KICBzcmM6IHVybCgiLi4vLi4vLi4vYXNzZXRzL2ljb25mb250L2ljb25mb250LmVvdCIpOw0KICBzcmM6IHVybCgiLi4vLi4vLi4vYXNzZXRzL2ljb25mb250L2ljb25mb250LmVvdD8jaWVmaXgiKQ0KICAgICAgZm9ybWF0KCJlbWJlZGRlZC1vcGVudHlwZSIpLA0KICAgIHVybCgiLi4vLi4vLi4vYXNzZXRzL2ljb25mb250L2ljb25mb250LndvZmYiKSBmb3JtYXQoIndvZmYiKSwNCiAgICB1cmwoIi4uLy4uLy4uL2Fzc2V0cy9pY29uZm9udC9pY29uZm9udC50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksDQogICAgdXJsKCIuLi8uLi8uLi9hc3NldHMvaWNvbmZvbnQvaWNvbmZvbnQuc3ZnI2ljb25mb250IikgZm9ybWF0KCJzdmciKTsNCn0NCi5pY29uZm9udCB7DQogIG1hcmdpbi1yaWdodDogNXB4Ow0KICBmb250LWZhbWlseTogImljb25mb250IiAhaW1wb3J0YW50Ow0KICBmb250LXNpemU6IDE2cHg7DQogIGZvbnQtc3R5bGU6IG5vcm1hbDsNCiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7DQogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7DQp9DQovKiDlm77moIflupMgZW5kICovDQovKiDliJvlu7rpl67ljbfmqKHmgIHmoYYgc3RhcnQgKi8NCi5ncmlkLWNvbnRlbnQgew0KICBwYWRkaW5nOiAwcHg7DQogIGhlaWdodDogMjgwcHg7DQogIHBhZGRpbmc6IDEwcHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCi5pdGVtIHsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0KLml0ZW0gaW1nIHsNCiAgd2lkdGg6IDEwMCU7DQp9DQouaXRlbSBwOm50aC1jaGlsZCgyKSB7DQogIGNvbG9yOiAjNGY0ZjRmOw0KICBmb250LXNpemU6IDE2cHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCi5pdGVtIHA6bnRoLWNoaWxkKDMpIHsNCiAgY29sb3I6ICM0ZjRmNGY7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmJsYW5rIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZmJmYjsgLyogI2MyZGFmMyAqLw0KfQ0KLnRlbXBsYXRlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZmJmYjsgLyogIzg3YThkMCAqLw0KfQ0KLmltcG9ydCB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmYmZiZmI7IC8qICNiOWNlZWIgKi8NCn0NCi5pc0Nob29zZSB7DQogIGJvcmRlcjogM3B4IHNvbGlkICM0MDllZmY7DQp9DQovKiDliJvlu7rpl67ljbfmqKHmgIHmoYYgZW5kICovDQovKiDmqKHmgIHmoYbmoIfnrb7moLflvI8gc3RhcnQgKi8NCi5lbC10YWcgKyAuZWwtdGFnIHsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQp9DQouYnV0dG9uLW5ldy10YWcgew0KICBtYXJnaW4tbGVmdDogMTBweDsNCiAgaGVpZ2h0OiAzMnB4Ow0KICBsaW5lLWhlaWdodDogMzBweDsNCiAgcGFkZGluZy10b3A6IDA7DQogIHBhZGRpbmctYm90dG9tOiAwOw0KfQ0KLmlucHV0LW5ldy10YWcgew0KICB3aWR0aDogOTBweDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIHZlcnRpY2FsLWFsaWduOiBib3R0b207DQp9DQovKiDmqKHmgIHmoYbmoIfnrb7moLflvI8gZW5kICovDQo="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAspCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/views/home/design","sourcesContent":["<template>\r\n  <div class=\"edit\">\r\n    <fullscreen ref=\"fullscreen\" @change=\"fullscreenChange\">\r\n      <div class=\"edit-sidebar\" ref=\"sidebar\">\r\n        <a class=\"btn_sidebar_switch\" v-show=\"btnSidebar\" @click=\"openOrCloseSideBar\">\r\n          {{btnSideBarName}}\r\n          <i :class=\"btnSideBarIcon\"></i>\r\n        </a>\r\n        <div class=\"edit-left-nav\">\r\n          <ul>\r\n            <li>\r\n              <a @click=\"toolbarNav = 1\">\r\n                <i class=\"el-icon-menu\" :class=\"{currentNav:toolbarNav==1}\"></i>题型\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a @click=\"toolbarNav = 2\">\r\n                <i class=\"el-icon-notebook-2\" :class=\"{currentNav:toolbarNav==2}\"></i>题库\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a @click=\"toolbarNav = 3\">\r\n                <i class=\"el-icon-document\" :class=\"{currentNav:toolbarNav==3}\"></i>大纲\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <!-- 基础题型 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==1\">\r\n          <h3>基础题型</h3>\r\n          <div class=\"content\">\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('radio')\">\r\n              <i class=\"iconfont\">&#xe667;</i>单 选 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('checkbox')\">\r\n              <i class=\"iconfont\">&#xe669;</i>多 选 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('textarea')\">\r\n              <i class=\"iconfont\">&#xe668;</i>文 本 题\r\n            </el-button>\r\n            <el-button class=\"qs-btn\" plain size=\"medium\" @click=\"addQuestion('rate')\">\r\n              <i class=\"el-icon-star-off\" style=\"margin-right:6px\"></i>评 分 题\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <!-- 题库列表：用户收藏和系统提供 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==2\">\r\n          <h3>题库</h3>\r\n          <div class=\"content\">\r\n            <el-collapse>\r\n              <!-- 我的收藏 -->\r\n              <el-collapse-item name=\"1\">\r\n                <template slot=\"title\">我的收藏</template>\r\n                <div\r\n                  class=\"quest-bank-item\"\r\n                  v-for=\"(item, index) in questionBank.user.question_list\"\r\n                  :key=\"index\"\r\n                  @click=\"addQuestionOfBank(item)\"\r\n                >\r\n                  <div style=\"width:162px\">\r\n                    <span class=\"words-ellipsis\" style=\"width:120px\">{{item.content.title}}</span>\r\n                    <el-popover placement=\"right\" width=\"200\" trigger=\"hover\" :close-delay=\"0\">\r\n                      <div style=\"padding:15px\">\r\n                        <span style=\"color:#333\">{{item.content.title}}</span>\r\n                        <span\r\n                          style=\"color:#999;margin-left:10px;\"\r\n                        >[{{item.content.type | typeFilter(types)}}]</span>\r\n                        <div\r\n                          v-for=\"(option, oindx) in item.content.options\"\r\n                          :key=\"oindx\"\r\n                        >{{option.value}}</div>\r\n                      </div>\r\n                      <i slot=\"reference\" class=\"el-icon-info quest-bank-info-btn\"></i>\r\n                    </el-popover>\r\n                    <i\r\n                      class=\"el-icon-error quest-bank-del-btn\"\r\n                      @click.stop=\"removeQuestionOfBank(item, index)\"\r\n                    ></i>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n              <!-- 系统预设题库 -->\r\n              <el-collapse-item\r\n                v-for=\"(group, key, gindx) in questionBank.system.group_list\"\r\n                :key=\"gindx\"\r\n                :name=\"gindx\"\r\n              >\r\n                <template slot=\"title\">{{key}}</template>\r\n                <div class=\"quest-bank-item\" v-for=\"(groupId, i) in group\" :key=\"i\">\r\n                  <div\r\n                    v-for=\"(question, qindx) in questionBank.system.question_list\"\r\n                    :key=\"qindx\"\r\n                    @click=\"addQuestionOfBank(question)\"\r\n                  >\r\n                    <div style=\"width:160px\" v-if=\"question.qsItemId === groupId\">\r\n                      <span class=\"words-ellipsis\" style=\"width:140px\">{{question.content.title}}</span>\r\n                      <el-popover placement=\"right\" width=\"200\" trigger=\"hover\" :close-delay=\"0\">\r\n                        <div style=\"padding:15px\">\r\n                          <span style=\"color:#333\">{{question.content.title}}</span>\r\n                          <span\r\n                            style=\"color:#999;margin-left:10px;\"\r\n                          >{{question.content.type | typeFilter(types)}}</span>\r\n                          <div\r\n                            v-for=\"(option, oindx) in question.content.options\"\r\n                            :key=\"oindx\"\r\n                          >{{option.value}}</div>\r\n                        </div>\r\n                        <i slot=\"reference\" class=\"el-icon-info quest-bank-info-btn\"></i>\r\n                      </el-popover>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </div>\r\n        </div>\r\n        <!-- 大纲视图 -->\r\n        <div class=\"edit-left-questbox\" v-show=\"toolbarNav==3\">\r\n          <h3>大纲视图</h3>\r\n          <div class=\"content\">\r\n            <el-timeline>\r\n              <el-timeline-item\r\n                v-for=\"(qsitem, index) in survey.qsitems\"\r\n                :icon=\"qsitem.type | iconFilter(icons)\"\r\n                :key=\"index\"\r\n                color=\"#666\"\r\n                size=\"large\"\r\n              >\r\n                <div class=\"words-ellipsis\" style=\"width:150px\">{{index+1}}. {{qsitem.title}}</div>\r\n                <template slot=\"icon\"></template>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-contain\" ref=\"contain\">\r\n        <!-- 右上角按钮组 -->\r\n        <el-button-group style=\"right:35px;position:fixed;\">\r\n          <el-button size=\"mini\" icon=\"el-icon-share\" plain @click=\"share\"></el-button>\r\n          <el-button size=\"mini\" icon=\"el-icon-full-screen\" plain @click=\"toggle\"></el-button>\r\n        </el-button-group>\r\n        <!-- 问卷内容 -->\r\n        <el-card class=\"survey\" v-if=\"creating\" v-loading=\"loading\">\r\n          <!-- 标题 -->\r\n          <div class=\"title\">\r\n            <h1\r\n              @click=\"editSurveyTitle()\"\r\n              v-show=\"!isEditTitle\"\r\n              style=\"text-align:center\"\r\n            >{{survey.title}}</h1>\r\n            <h1 v-show=\"isEditTitle\">\r\n              <el-input\r\n                ref=\"title\"\r\n                @blur=\"blurSurveyTitle()\"\r\n                maxlength=\"20\"\r\n                show-word-limit\r\n                :clearable=\"true\"\r\n                placeholder=\"请输入标题\"\r\n                v-model=\"survey.title\"\r\n              ></el-input>\r\n            </h1>\r\n          </div>\r\n          <!-- 简介 -->\r\n          <div class=\"intro\">\r\n            <p @click=\"editSurveyIntro()\" v-show=\"!isEditIntro\">{{survey.introduction}}</p>\r\n            <p v-show=\"isEditIntro\">\r\n              <el-input\r\n                ref=\"intro\"\r\n                type=\"textarea\"\r\n                @blur=\"blurSurveyIntro()\"\r\n                :autosize=\"{ minRows: 2, maxRows: 2}\"\r\n                maxlength=\"100\"\r\n                show-word-limit\r\n                placeholder=\"请输入简介\"\r\n                v-model=\"survey.introduction\"\r\n              ></el-input>\r\n            </p>\r\n          </div>\r\n\r\n          <transition-group tag=\"div\">\r\n            <div\r\n              class=\"quest-list\"\r\n              :class=\"{'animated':true,'shake':editing==index, 'choose':isEditQuest[index]==true}\"\r\n              v-for=\"(item, index) in survey.qsitems\"\r\n              :key=\"index\"\r\n              @click=\"editSurveyQuestion(index)\"\r\n              v-dragging=\"{ item:item, list:survey.qsitems, group:'quest' }\"\r\n              :draggable=\"isEditQuest[index]==true?false:true\"\r\n            >\r\n              <div class=\"qs-contain\">\r\n                <div v-show=\"!isEditQuest[index]\">\r\n                  <!-- 单选题 -->\r\n                  <div v-if=\"item.type === 'radio'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-radio-group v-model=\"radioValue\">\r\n                      <el-radio\r\n                        class=\"block\"\r\n                        :label=\"option.id\"\r\n                        v-for=\"(option, i) in item.options\"\r\n                        :key=\"i\"\r\n                        v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                      >{{option.value}}</el-radio>\r\n                    </el-radio-group>\r\n                  </div>\r\n                  <!-- 多选题 -->\r\n                  <div v-else-if=\"item.type === 'checkbox'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-checkbox-group v-model=\"checkboxValue\">\r\n                      <el-checkbox\r\n                        class=\"block\"\r\n                        :label=\"option.id\"\r\n                        v-for=\"(option, i) in item.options\"\r\n                        :key=\"i\"\r\n                        v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                        style=\"width:20px;\"\r\n                      >{{option.value}}</el-checkbox>\r\n                    </el-checkbox-group>\r\n                  </div>\r\n                  <!-- 文本题 -->\r\n                  <div v-else-if=\"item.type === 'textarea'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-input type=\"textarea\" :autosize=\"{ minRows: 5, maxRows: 5}\"></el-input>\r\n                  </div>\r\n                  <!-- 评分题 -->\r\n                  <div v-else-if=\"item.type === 'rate'\">\r\n                    <p>\r\n                      {{index+1}}. {{item.title}}\r\n                      <span class=\"must\" v-if=\"item.isRequired == 1\">*</span>\r\n                    </p>\r\n                    <el-rate></el-rate>\r\n                  </div>\r\n                </div>\r\n                <!-- 题目操作面板 -->\r\n                <div class=\"qs-contain\" v-show=\"!isEditQuest[index]\" style=\"margin-top:20px\">\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    style=\"color:#E6A23C\"\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-star-off\"\r\n                    @click.stop=\"starQuestion(item)\"\r\n                  >收藏</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-download\"\r\n                    @click.stop=\"toBottomQuestion(index)\"\r\n                  >最后</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-upload2\"\r\n                    @click.stop=\"toTopQuestion(index)\"\r\n                  >最前</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-bottom\"\r\n                    @click.stop=\"swapQuestion(index, index+1)\"\r\n                  >下移</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-top\"\r\n                    @click.stop=\"swapQuestion(index, index-1)\"\r\n                  >上移</el-button>\r\n                  <el-button\r\n                    size=\"mini\"\r\n                    plain\r\n                    style=\"color:#F56C6C\"\r\n                    class=\"question-btn\"\r\n                    icon=\"el-icon-delete\"\r\n                    @click.stop=\"delSurveyQuestion(index)\"\r\n                  >删除</el-button>\r\n                  <!-- <el-button\r\n                  size=\"mini\"\r\n                  plain\r\n                  class=\"question-btn\"\r\n                  icon=\"el-icon-copy-document\"\r\n                  @click.stop=\"copyQuestion(item, index)\"\r\n                  >复制</el-button>-->\r\n                  <el-button size=\"mini\" plain class=\"question-btn\" icon=\"el-icon-edit-outline\">编辑</el-button>\r\n                </div>\r\n\r\n                <!-- 编辑模式 start -->\r\n                <div v-show=\"isEditQuest[index]\">\r\n                  <el-input\r\n                    class=\"inlineBlock\"\r\n                    :autosize=\"{ minRows: 1}\"\r\n                    show-word-limit\r\n                    clearable\r\n                    placeholder=\"请输入题目\"\r\n                    v-model=\"item.title\"\r\n                  >\r\n                    <template slot=\"prepend\">{{item.type | typeFilter(types)}}</template>\r\n                  </el-input>\r\n                  <div\r\n                    v-for=\"(option, i) in item.options\"\r\n                    :key=\"i\"\r\n                    v-show=\"survey.qsitems[index].options[i].visibility != 0\"\r\n                  >\r\n                    <el-input\r\n                      class=\"inlineBlock\"\r\n                      v-model=\"option.value\"\r\n                      clearable\r\n                      style=\"width:82%;margin-right:1%;\"\r\n                    >\r\n                      <template slot=\"prepend\">选项</template>\r\n                    </el-input>\r\n                    <div class=\"toolbar\" style=\"float:right;\">\r\n                      <el-button icon=\"el-icon-plus\" circle @click=\"addOption(index,i)\"></el-button>\r\n                      <el-button icon=\"el-icon-minus\" circle @click=\"delOption(index,i)\"></el-button>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    v-if=\"item.type === 'radio' || item.type === 'checkbox'\"\r\n                    style=\"display:inline-block\"\r\n                  >\r\n                    <el-button\r\n                      class=\"inlineBlock\"\r\n                      @click=\"addOption(index)\"\r\n                      style=\"cursor:pointer;\"\r\n                    >添加选项</el-button>\r\n                    <el-button\r\n                      class=\"inlineBlock\"\r\n                      @click=\"addOtherOption(index)\"\r\n                      style=\"cursor:pointer;\"\r\n                    >添加「其他」项</el-button>\r\n                  </div>\r\n                  <el-switch\r\n                    class=\"inlineBlock\"\r\n                    style=\"float:right;margin:15px 0px;\"\r\n                    v-model=\"item.isRequired\"\r\n                    :active-value=\"1\"\r\n                    :inactive-value=\"0\"\r\n                    inactive-text=\"此题必填\"\r\n                  ></el-switch>\r\n                  <el-button\r\n                    class=\"inlineBlock\"\r\n                    @click.stop=\"saveSurveyQuestion(index)\"\r\n                    type=\"primary\"\r\n                    style=\"width:100%; cursor:pointer;\"\r\n                  >完 成 编 辑</el-button>\r\n                </div>\r\n                <!-- 编辑模式 end -->\r\n              </div>\r\n            </div>\r\n          </transition-group>\r\n        </el-card>\r\n      </div>\r\n    </fullscreen>\r\n    <!-- 选择问卷创建类型对话框 -->\r\n    <el-dialog\r\n      title=\"请选择问卷创建类型\"\r\n      width=\"730px\"\r\n      style=\"font-weight:bold\"\r\n      :modal=\"false\"\r\n      :visible.sync=\"createDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <div>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==0}\" @click=\"chooseType = 0\">\r\n              <el-card class=\"item blank\" shadow=\"hover\">\r\n                <img src=\"@/assets/image/blank.png\" />\r\n                <p>创建空白问卷</p>\r\n                <p>从一份空白问卷开始创建</p>\r\n              </el-card>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==1}\" @click=\"chooseType = 1\">\r\n              <el-card class=\"item template\" shadow=\"hover\">\r\n                <img src=\"@/assets/image/template.png\" />\r\n                <p>选择问卷模板</p>\r\n                <p>使用其他用户公开的问卷</p>\r\n              </el-card>\r\n            </div>\r\n          </el-col>\r\n          <!-- <el-col :span=\"8\">\r\n            <div class=\"grid-content\" :class=\"{'isChoose':chooseType==2}\" @click=\"chooseType = 2\">\r\n                <el-card class=\"item import\" shadow=\"hover\">\r\n                    <img src=\"@/assets/image/import.png\">\r\n                    <p>文本编辑问卷</p>\r\n                    <p>自由编辑文本自动生成问卷</p>\r\n                </el-card>\r\n            </div>\r\n          </el-col>-->\r\n        </el-row>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"cancelCreate()\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"createSurvey()\">\r\n          <span v-show=\"chooseType == 0\">立即创建</span>\r\n          <span v-show=\"chooseType == 1\">下一步</span>\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 公开问卷对话框 -->\r\n    <el-dialog\r\n      title=\"设置问卷标签\"\r\n      width=\"580px\"\r\n      style=\"font-weight:bold\"\r\n      :visible.sync=\"tagDialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <div style=\"width:100%\">\r\n        <el-tag\r\n          type=\"info\"\r\n          v-for=\"(tag, index) in tags\"\r\n          :key=\"index\"\r\n          closable\r\n          :disable-transitions=\"false\"\r\n          @close=\"deleteTag(index)\"\r\n        >{{tag.tagName}}</el-tag>\r\n        <el-input\r\n          class=\"input-new-tag\"\r\n          v-if=\"tagInputVisible\"\r\n          v-model=\"tagInputValue\"\r\n          ref=\"saveTagInput\"\r\n          size=\"small\"\r\n          @keyup.enter.native=\"addTag\"\r\n          @blur=\"addTag\"\r\n        ></el-input>\r\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showTagInput\">+ 添加新标签</el-button>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"tagDialogVisible = false\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport QS from \"qs\";\r\nimport fullscreen from \"vue-fullscreen\";\r\nimport Vue from \"vue\";\r\nVue.use(fullscreen);\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      surveyId: \"\",\r\n      createDialogVisible: false,\r\n      tagDialogVisible: false,\r\n      creating: false,\r\n      chooseType: 0,\r\n      questionBank: {\r\n        system: {},\r\n        user: {}\r\n      },\r\n      // tool\r\n      isOpenSideBar: true,\r\n      btnSidebar: true,\r\n      btnSideBarName: \"收起工具栏\",\r\n      btnSideBarIcon: \"el-icon-s-fold\",\r\n      toolbarNav: 1,\r\n      // show\r\n      survey: {},\r\n      radioValue: \"\",\r\n      checkboxValue: [],\r\n      loading: true,\r\n      fullscreen: false,\r\n      // tag\r\n      tags: [],\r\n      tagInputVisible: false,\r\n      tagInputValue: \"\",\r\n      // edit\r\n      isEditTitle: false,\r\n      isEditIntro: false,\r\n      isEditQuest: [],\r\n      editing: null,\r\n      oldVal: \"\",\r\n      oldObj: {},\r\n      // icon\r\n      icons: [\r\n        { value: \"radio\", text: \"iconfont icon-danxuan\" },\r\n        { value: \"checkbox\", text: \"iconfont icon-duoxuan\" },\r\n        { value: \"textarea\", text: \"iconfont icon-duohangwenben\" },\r\n        { value: \"rate\", text: \"el-icon-star-off\" }\r\n      ],\r\n      types: [\r\n        { value: \"radio\", text: \"单选题\" },\r\n        { value: \"checkbox\", text: \"多选题\" },\r\n        { value: \"textarea\", text: \"文本题\" },\r\n        { value: \"rate\", text: \"评分题\" }\r\n      ],\r\n      // drag\r\n      preQsitems: []\r\n    };\r\n  },\r\n\r\n  filters: {\r\n    // 过滤大纲视图题型的icon图标\r\n    iconFilter(value, icons) {\r\n      for (let i = 0; i < icons.length; i++) {\r\n        if (value == icons[i].value) {\r\n          return icons[i].text;\r\n        }\r\n      }\r\n    },\r\n    // 过滤题库题目预览的类型\r\n    typeFilter(value, types) {\r\n      for (let i = 0; i < types.length; i++) {\r\n        if (value == types[i].value) {\r\n          return types[i].text;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 取消创建问卷\r\n     */\r\n    cancelCreate() {\r\n      this.createDialogVisible = false;\r\n      this.$router.go(-1);\r\n    },\r\n    /**\r\n     * 创建问卷\r\n     */\r\n    createSurvey() {\r\n      if (this.chooseType == 0) {\r\n        this.createDialogVisible = false;\r\n        this.creating = true;\r\n        const surveydata = {};\r\n        surveydata.creator = this.uid;\r\n        this.$http.post(\"survey/new/blank\", surveydata).then(res => {\r\n          // 当前页地址栏增加surveyId，刷新页面\r\n          // 防止刷新丢失数据和按钮不显示\r\n          this.$router.push({\r\n            query: {\r\n              surveyId: res.data\r\n            }\r\n          });\r\n          this.$router.go(0);\r\n        });\r\n      } else if (this.chooseType == 1) {\r\n        this.$router.push(\"/home/template\");\r\n      }\r\n    },\r\n    /**\r\n     * 展开与关闭工具栏\r\n     */\r\n    openOrCloseSideBar() {\r\n      if (this.isOpenSideBar) {\r\n        this.isOpenSideBar = false;\r\n        this.btnSideBarName = \"展开工具栏\";\r\n        this.btnSideBarIcon = \"el-icon-s-unfold\";\r\n        this.$refs.sidebar.style = \"left: -251px\";\r\n        this.$refs.contain.style = \"left: 0px\";\r\n      } else {\r\n        this.isOpenSideBar = true;\r\n        this.btnSideBarName = \"收起工具栏\";\r\n        this.btnSideBarIcon = \"el-icon-s-fold\";\r\n        this.$refs.sidebar.style = \"left: 0px\";\r\n        this.$refs.contain.style = \"left: 251px\";\r\n      }\r\n    },\r\n    /**\r\n     * 获取问卷信息\r\n     */\r\n    getSurvey() {\r\n      this.$http\r\n        .get(\"survey/\" + this.surveyId)\r\n        .then(res => {\r\n          this.loading = false;\r\n          this.survey = res.data;\r\n          const qsitems = res.data.qsitems;\r\n          // 初始化isEditQuest的值\r\n          for (const key in qsitems) {\r\n            this.$set(this.isEditQuest, key, false);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    /**\r\n     * 添加问卷题目\r\n     */\r\n    addQuestion(type, question) {\r\n      // 当前题目未保存不能添加\r\n      for (const key in this.isEditQuest) {\r\n        if (this.isEditQuest[key] == true) {\r\n          this.editing = key; // 添加抖动动画\r\n          setTimeout(() => {\r\n            this.editing = null;\r\n          }, 1000);\r\n          return; // 结束往下执行\r\n        }\r\n      }\r\n      const questdata = {};\r\n      questdata.type = type;\r\n      questdata.isRequired = 0;\r\n      questdata.surveyId = this.survey.id;\r\n      // 题目排序\r\n      let length = this.survey.qsitems.length;\r\n      questdata.number = length + 1;\r\n      if (length > 0) {\r\n        let lastOrderId = this.survey.qsitems[length - 1].orderId;\r\n        questdata.orderId = lastOrderId + 1;\r\n      } else {\r\n        // 空白问卷\r\n        questdata.orderId = 1000;\r\n      }\r\n      if (question == null) {\r\n        switch (type) {\r\n          case \"radio\":\r\n            questdata.title = \"这是一道单选题\";\r\n            questdata.options = [\r\n              { value: \"选项A\", orderId: 0, visibility: 1 },\r\n              { value: \"选项B\", orderId: 1, visibility: 1 }\r\n            ];\r\n            break;\r\n          case \"checkbox\":\r\n            questdata.title = \"这是一道多选题\";\r\n            questdata.options = [\r\n              { value: \"选项A\", orderId: 0, visibility: 1 },\r\n              { value: \"选项B\", orderId: 1, visibility: 1 }\r\n            ];\r\n            break;\r\n          case \"textarea\":\r\n            questdata.title = \"这是一道文本题\";\r\n            break;\r\n          case \"rate\":\r\n            questdata.title = \"这是一道评分题\";\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      } else {\r\n        questdata.title = question.title;\r\n        questdata.options = question.options;\r\n      }\r\n\r\n      this.$http.saveSurvey(\"question/new\", questdata).then(() => {\r\n        // questdata.id = res.data.id;\r\n        // questdata.qsItemId = res.data.qsItemId;\r\n        this.survey.qsitems.push(questdata);\r\n        // 滚动到末尾增加的题目\r\n        this.$nextTick(() => {\r\n          this.$refs.contain.scrollTop = this.$refs.contain.scrollHeight;\r\n          this.getSurvey(); //重新获取数据\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 删除问卷题目\r\n     */\r\n    delSurveyQuestion(index) {\r\n      let message = `确定要将此题目彻底删除吗？`;\r\n      this.$confirm(message, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        // 提交删除请求\r\n        const questdata = {};\r\n        questdata.id = this.survey.qsitems[index].id;\r\n        questdata.type = this.survey.qsitems[index].type;\r\n        questdata.qsItemId = this.survey.qsitems[index].qsItemId;\r\n        questdata.surveyId = this.survey.id;\r\n        let length = this.survey.qsitems.length - 1;\r\n        questdata.number = length;\r\n        this.$http.saveSurvey(\"question/del\", questdata).then(() => {\r\n          this.survey.qsitems.splice(index, 1);\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 编辑问卷题目\r\n     */\r\n    editSurveyQuestion(index) {\r\n      // 当前题目未保存不能编辑其它题\r\n      for (const key in this.isEditQuest) {\r\n        if (this.isEditQuest[key] == true) {\r\n          if (key == index) return; // 结束往下执行\r\n          if (key != index) {\r\n            this.editing = key; // 添加抖动动画\r\n            setTimeout(() => {\r\n              this.editing = null;\r\n            }, 1000);\r\n            return; // 结束往下执行\r\n          }\r\n        }\r\n      }\r\n      // 打开编辑模式\r\n      this.$set(this.isEditQuest, index, true);\r\n      // 拷贝修改前的数据\r\n      const qsitems = this.survey.qsitems;\r\n      for (const key in qsitems) {\r\n        if (key == index) {\r\n          this.oldObj = JSON.parse(JSON.stringify(this.survey.qsitems[key]));\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 保存问卷题目\r\n     */\r\n    saveSurveyQuestion(index) {\r\n      let change = false;\r\n      const oldQsitem = this.oldObj;\r\n      const qsitems = this.survey.qsitems;\r\n\r\n      for (const key in qsitems) {\r\n        if (key == index) {\r\n          let title = qsitems[key].title;\r\n          let options = qsitems[key].options;\r\n          let isRequired = qsitems[key].isRequired;\r\n\r\n          const questdata = {};\r\n          questdata.type = qsitems[key].type;\r\n          questdata.surveyId = this.survey.id;\r\n\r\n          // 保存题目或选项\r\n          if (title != oldQsitem.title) {\r\n            // 题目有改动\r\n            change = true;\r\n            questdata.qsItemId = qsitems[key].qsItemId;\r\n            questdata.title = qsitems[key].title;\r\n          }\r\n          if (options != null) {\r\n            if (options.length != oldQsitem.options.length) {\r\n              // 选项数组长度有变，直接提交全部选项（删除不改变原数组长度）\r\n              change = true;\r\n              for (const key in options) {\r\n                // 只有增加会改变数组长度，只需要在这位置分配orderId\r\n                options[key].orderId = key;\r\n              }\r\n              questdata.options = options;\r\n            } else if (options.length == oldQsitem.options.length) {\r\n              // 若数组长度未变，一一比对选项的值\r\n              for (const key in options) {\r\n                // 选项的值有改动，提交全部选项\r\n                if (\r\n                  options[key].value != oldQsitem.options[key].value ||\r\n                  options[key].visibility != oldQsitem.options[key].visibility\r\n                ) {\r\n                  change = true;\r\n                  questdata.options = options;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          // 必填属性有变化\r\n          if (isRequired != oldQsitem.isRequired) {\r\n            change = true;\r\n            questdata.id = qsitems[key].id;\r\n            questdata.isRequired = qsitems[key].isRequired;\r\n          }\r\n          if (change) this.$http.saveSurvey(\"question/save\", questdata);\r\n        }\r\n      }\r\n      // axaj成功后关闭编辑模式\r\n      this.$set(this.isEditQuest, index, false);\r\n    },\r\n    /**\r\n     * 编辑问卷标题\r\n     */\r\n    editSurveyTitle() {\r\n      this.isEditTitle = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"title\"].focus();\r\n      });\r\n      this.oldVal = this.survey.title;\r\n    },\r\n    /**\r\n     * 保存问卷标题\r\n     */\r\n    blurSurveyTitle() {\r\n      const surveydata = {};\r\n      if (this.survey.title.length == 0) {\r\n        alert();\r\n        return;\r\n      } else {\r\n        if (this.survey.title !== this.oldVal) {\r\n          surveydata.id = this.survey.id;\r\n          surveydata.title = this.survey.title;\r\n          this.$http.saveSurvey(\"save/survey/info\", surveydata);\r\n        }\r\n      }\r\n      this.isEditTitle = false;\r\n    },\r\n    /**\r\n     * 编辑问卷简介\r\n     */\r\n    editSurveyIntro() {\r\n      this.isEditIntro = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"intro\"].focus();\r\n      });\r\n      this.oldVal = this.survey.introduction;\r\n    },\r\n    /**\r\n     * 保存问卷简介\r\n     */\r\n    blurSurveyIntro() {\r\n      this.isEditIntro = false;\r\n      const surveydata = {};\r\n      if (this.survey.introduction !== this.oldVal) {\r\n        surveydata.id = this.survey.id;\r\n        surveydata.introduction = this.survey.introduction;\r\n        this.$http.saveSurvey(\"save/survey/info\", surveydata);\r\n      }\r\n    },\r\n    /**\r\n     * 添加选项\r\n     */\r\n    addOption(index, i) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      if (i == null) {\r\n        i = 0;\r\n      } //qsitem.options.length + 1\r\n      else {\r\n        i++;\r\n      }\r\n      qsitem.options.splice(i, 0, {\r\n        value: \"\",\r\n        qsItemId: qsitem.qsItemId,\r\n        visibility: 1\r\n      });\r\n    },\r\n    /**\r\n     * 删除选项\r\n     */\r\n    delOption(index, i) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      // 记录需要删除的选项\r\n      if (qsitem.options[i].id != null) {\r\n        qsitem.options[i].visibility = 0;\r\n      } else {\r\n        qsitem.options.splice(i, 1);\r\n      }\r\n    },\r\n    /**\r\n     * 添加其他选项\r\n     */\r\n    addOtherOption(index) {\r\n      const qsitem = this.survey.qsitems[index];\r\n      let last = qsitem.options.length;\r\n      qsitem.options.splice(last, 0, {\r\n        value: \"其他 ____\",\r\n        qsItemId: qsitem.qsItemId,\r\n        visibility: 1\r\n      });\r\n    },\r\n    /**\r\n     * 用于编辑页面全屏显示\r\n     */\r\n    toggle() {\r\n      this.btnSidebar = false;\r\n      this.$refs[\"sidebar\"].style = \"top:0\";\r\n      this.$refs[\"contain\"].style = \"top:0\";\r\n      this.$refs[\"fullscreen\"].toggle();\r\n    },\r\n    /**\r\n     * 全屏编辑\r\n     */\r\n    fullscreenChange(fullscreen) {\r\n      this.fullscreen = fullscreen;\r\n      if (this.fullscreen == false) {\r\n        this.btnSidebar = true;\r\n        this.$refs[\"sidebar\"].style = \"top:122px\";\r\n        this.$refs[\"contain\"].style = \"top:122px\";\r\n      }\r\n    },\r\n    /**\r\n     * 收藏题目\r\n     */\r\n    starQuestion(item) {\r\n      const data = {};\r\n      data.belongId = this.uid;\r\n      data.qsItemId = item.qsItemId;\r\n      data.type = item.type;\r\n      let newQsItemId = \"\";\r\n      this.$http.post(\"star_question\", data).then(res => {\r\n        this.$message({\r\n          message: '<strong style=\"color:#333\">收藏成功</strong>',\r\n          dangerouslyUseHTMLString: true,\r\n          iconClass: \" \",\r\n          center: true,\r\n          duration: 1000,\r\n          offset: 68,\r\n          customClass: \"center-msgbox\"\r\n        });\r\n        newQsItemId = res.data;\r\n        // 页面显示同步\r\n        this.questionBank.user.question_list.unshift({\r\n          qsItemId: newQsItemId,\r\n          content: { title: item.title, type: item.type, options: item.options }\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 添加题库的题目\r\n     */\r\n    addQuestionOfBank(item) {\r\n      const question = {};\r\n      question.title = item.content.title;\r\n      question.options = item.content.options;\r\n      this.addQuestion(item.content.type, question);\r\n    },\r\n    /**\r\n     * 移除收藏题目\r\n     */\r\n    removeQuestionOfBank(item, index) {\r\n      this.$confirm(`确认要删除这道题目吗？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      }).then(() => {\r\n        const data = {};\r\n        data.type = item.content.type;\r\n        data.qsItemId = item.qsItemId;\r\n        this.$http.post(\"remove_star_question\", QS.stringify(data)).then(() => {\r\n          const questionList = this.questionBank.user.question_list;\r\n          questionList.splice(index, 1);\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 获取题库列表\r\n     */\r\n    getQuestionBank() {\r\n      // 获取系统题库\r\n      this.$http.post(`question_system_list_get`).then(res => {\r\n        this.questionBank.system = res.data;\r\n      });\r\n      // 获取用户收藏题目\r\n      this.$http.post(`question_user_list_get/${this.uid}`).then(res => {\r\n        this.questionBank.user = res.data;\r\n      });\r\n    },\r\n\r\n    // /**\r\n    //  * 复制题目到下一项\r\n    //  */\r\n    // copyQuestion(item, index) {\r\n    //   const qsItem = JSON.parse(JSON.stringify(item));\r\n    //   qsItem.surveyId = this.surveyId;\r\n    //   qsItem.orderId = item.orderId + 1; // 排序\r\n    //   this.$http.saveSurvey(\"question/new\", qsItem).then(() => {\r\n    //     this.survey.qsitems.splice(index, 0, qsItem);\r\n    //   });\r\n    // },\r\n\r\n    /**\r\n     * 上移,下移：交换题目位置\r\n     */\r\n    swapQuestion(from, to) {\r\n      const qsitems = this.survey.qsitems;\r\n      const fromQuest = qsitems[from];\r\n      const toQuest = qsitems[to];\r\n\r\n      if (to < 0) {\r\n        this.$message({\r\n          message: \"已经到顶了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      if (to > qsitems.length - 1) {\r\n        this.$message({\r\n          message: \"已经到底了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      // 后端交换orderId\r\n      const question = {};\r\n      question.fromId = fromQuest.id;\r\n      question.fromOid = fromQuest.orderId;\r\n      question.toId = toQuest.id;\r\n      question.toOid = toQuest.orderId;\r\n      this.$http\r\n        .saveSurvey(\"question/swap\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n        });\r\n    },\r\n    /**\r\n     * 题目移到最前\r\n     */\r\n    toTopQuestion(index) {\r\n      const qsitems = this.survey.qsitems;\r\n      if (index == 0) {\r\n        this.$message({\r\n          message: \"已经到顶了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      const question = {};\r\n      question.id = qsitems[index].id;\r\n      question.orderId = qsitems[0].orderId - 1;\r\n      this.$http\r\n        .saveSurvey(\"question/jump\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n          this.$refs.contain.scrollTop = 0;\r\n        });\r\n    },\r\n    /**\r\n     * 题目移到最后\r\n     */\r\n    toBottomQuestion(index) {\r\n      const qsitems = this.survey.qsitems;\r\n      if (index == this.survey.qsitems.length - 1) {\r\n        this.$message({\r\n          message: \"已经到底了！\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      const question = {};\r\n      question.id = qsitems[index].id;\r\n      question.orderId = qsitems[qsitems.length - 1].orderId + 1;\r\n      this.$http\r\n        .saveSurvey(\"question/jump\", QS.stringify(question))\r\n        .then(() => {\r\n          this.getSurvey();\r\n          this.$refs.contain.scrollTop = this.$refs.contain.scrollHeight;\r\n        });\r\n    },\r\n    /**\r\n     * 设置公开问卷的标签\r\n     */\r\n    share() {\r\n      this.tagDialogVisible = true;\r\n      const data = {};\r\n      data.surveyId = this.surveyId;\r\n      this.$http.post(\"/tag/tags\", QS.stringify(data)).then(res => {\r\n        this.tags = res.data;\r\n      });\r\n    },\r\n    /**\r\n     * 删除标签\r\n     */\r\n    deleteTag(index) {\r\n      let tag = {};\r\n      tag.id = this.tags[index].id;\r\n      this.$http.post(\"/tag/del\", QS.stringify(tag)).then(() => {\r\n        this.tags.splice(index, 1);\r\n      });\r\n    },\r\n    /**\r\n     * 打开新标签输入框\r\n     */\r\n    showTagInput() {\r\n      this.tagInputVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.saveTagInput.$refs.input.focus();\r\n      });\r\n    },\r\n    /**\r\n     * 添加标签\r\n     */\r\n    addTag() {\r\n      if (this.tagInputValue) {\r\n        let tag = {};\r\n        tag.tagName = this.tagInputValue;\r\n        tag.surveyId = this.surveyId;\r\n        this.$http\r\n          .post(\"/tag/add\", tag)\r\n          .then(() => {\r\n            this.tags.push(tag);\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              message: \"添加失败\",\r\n              type: \"error\"\r\n            });\r\n          });\r\n      }\r\n      this.tagInputVisible = false;\r\n      this.tagInputValue = \"\";\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState({\r\n      uid: state => state.uid\r\n    })\r\n  },\r\n\r\n  mounted() {\r\n    // 接收路由传来的问卷编号\r\n    this.surveyId = this.$route.query.surveyId;\r\n    // 向服务器请求问卷信息\r\n    if (this.surveyId == null) {\r\n      this.createDialogVisible = true;\r\n    } else {\r\n      this.creating = true;\r\n      this.getSurvey(); //获取问卷信息\r\n      this.getQuestionBank(); //获取题库列表\r\n    }\r\n\r\n    this.$dragging.$on(\"dragged\", () => {\r\n      this.preQsitems = JSON.parse(JSON.stringify(this.survey.qsitems));\r\n    });\r\n\r\n    this.$dragging.$on(\"dragend\", () => {\r\n      let isChange =\r\n        JSON.stringify(this.preQsitems) === JSON.stringify(this.survey.qsitems);\r\n      if (isChange) {\r\n        let quests = [];\r\n        this.survey.qsitems.forEach(quest => {\r\n          let qu = {};\r\n          qu.id = quest.id;\r\n          qu.orderId = quest.orderId;\r\n          quests.push(qu);\r\n        });\r\n        this.$http.saveSurvey(\"/question/reorder\", quests);\r\n      }\r\n      this.preQsitems = [];\r\n    });\r\n  },\r\n\r\n  beforeRouteLeave(to, from, next) {\r\n    for (const key in this.isEditQuest) {\r\n      if (this.isEditQuest[key] == true) {\r\n        const answer = window.confirm(\"系统可能不会保存您所做的更改。\");\r\n        if (answer) {\r\n          next();\r\n        } else {\r\n          next(false);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.center-msgbox {\r\n  min-width: 100px;\r\n  background-color: #fff;\r\n}\r\n.survey .el-card__body,\r\n.modifyPanel .el-card__body {\r\n  padding: 0 !important;\r\n}\r\n.el-collapse-item__header {\r\n  padding-left: 10px;\r\n}\r\n.el-collapse-item__content {\r\n  padding-left: 10px;\r\n}\r\n</style>\r\n<style scoped>\r\n.el-timeline {\r\n  padding-top: 15px;\r\n  padding-left: 15px;\r\n}\r\n/* 左侧编辑工具栏 start */\r\n.edit-sidebar {\r\n  position: fixed;\r\n  top: 122px;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 251px;\r\n  border-right: 1px solid #e0e0e0;\r\n  background-color: #fafafa;\r\n  z-index: 10;\r\n  transition: 0.3s;\r\n}\r\n.btn_sidebar_switch {\r\n  width: 110px;\r\n  height: 35px;\r\n  line-height: 35px;\r\n  border-radius: 0 35px 35px 0;\r\n  padding-right: 10px;\r\n  background-color: #fafafa;\r\n  position: absolute;\r\n  left: 251px;\r\n  cursor: pointer;\r\n  text-align: right;\r\n  user-select: none;\r\n  border: 1px solid #e0e0e0;\r\n  border-left: none;\r\n  font-size: 14px;\r\n  color: #4a4a4a;\r\n}\r\n.btn_sidebar_switch i {\r\n  margin-left: 10px;\r\n  margin-bottom: 3px;\r\n  vertical-align: middle;\r\n  font-size: 22px;\r\n  color: #4a4a4a;\r\n}\r\n.edit-sidebar .edit-left-nav {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 11;\r\n  width: 60px;\r\n  background-color: #fff;\r\n  border-right: 1px solid #d8d8d8;\r\n}\r\n.edit-sidebar .edit-left-nav ul {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.edit-sidebar .edit-left-nav ul li {\r\n  width: 40px;\r\n  height: 55px;\r\n  margin: 10px 10px 30px 10px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n}\r\n.currentNav {\r\n  color: #fff !important;\r\n  background-color: #409eff;\r\n  transition: 0.2s;\r\n}\r\n.currentNav:hover {\r\n  background-color: #409eff !important;\r\n}\r\n.edit-sidebar .edit-left-nav ul li {\r\n  color: #484848;\r\n}\r\n.edit-sidebar .edit-left-nav ul li i {\r\n  color: #484848;\r\n  font-size: 24px;\r\n  padding: 5px;\r\n  border-radius: 7px;\r\n}\r\n.edit-sidebar .edit-left-nav ul li i:hover {\r\n  background-color: #eee;\r\n}\r\n.edit-sidebar .edit-left-questbox {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 60px;\r\n  bottom: 0;\r\n  width: 190px;\r\n}\r\n.edit-left-questbox h3 {\r\n  color: #333;\r\n  margin: 12px;\r\n  font-weight: normal;\r\n  position: fixed;\r\n}\r\n.edit-left-questbox .content {\r\n  margin-top: 50px;\r\n  /* width: 95%; */\r\n  height: calc(100% - 50px);\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n.edit-left-questbox .qs-btn {\r\n  margin: 10px 10%;\r\n  width: 80%;\r\n}\r\n.edit-left-questbox .header-icon {\r\n  margin-left: 5px;\r\n}\r\n.edit-left-questbox .content::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n/* 题库面板样式 start */\r\n.words-ellipsis {\r\n  display: inline-block; /* 关键 */\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n.quest-bank-info-btn {\r\n  float: right;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  transition: 0.3s;\r\n}\r\n.quest-bank-info-btn:hover {\r\n  color: #409eff;\r\n}\r\n.quest-bank-del-btn {\r\n  float: right;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  transition: 0.3s;\r\n  margin-right: 3px;\r\n}\r\n.quest-bank-del-btn:hover {\r\n  color: #ff6161;\r\n}\r\n.quest-bank-item {\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  margin-right: 5px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n}\r\n.quest-bank-item:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n/* 题库面板样式 end */\r\n/* 左侧编辑工具栏 end */\r\n/* 主工作区 start */\r\n.edit-contain {\r\n  position: fixed;\r\n  top: 122px;\r\n  bottom: 0;\r\n  left: 251px;\r\n  right: 0;\r\n  padding: 20px 20px 50px 20px;\r\n  transition: 0.3s;\r\n  background-color: #f4f6f9;\r\n  overflow: auto;\r\n}\r\n/* 滚动条样式 start */\r\n.edit-contain::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n.edit-contain::-webkit-scrollbar-thumb {\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  border-radius: 5px;\r\n}\r\n.edit-contain::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n/* 滚动条样式 end */\r\n.edit-contain .survey,\r\n.modifyPanel {\r\n  max-width: 980px;\r\n  min-width: 730px;\r\n  margin: 40px auto;\r\n  padding-top: 50px;\r\n  padding-bottom: 100px;\r\n}\r\n/* 编辑模式选择面板 start */\r\n.modifyPanel h1 {\r\n  color: #ebf0f5;\r\n  font-size: 56px;\r\n  font-weight: 500;\r\n  margin: 15px;\r\n  height: 48px;\r\n  display: inline-block;\r\n}\r\n.modifyPanel .pattern {\r\n  display: inline-block;\r\n  background-color: #fafafa;\r\n  width: 100%;\r\n  padding: 20px 0 20px 10px;\r\n}\r\n.modifyPanel .choose_temp_modify_type {\r\n  border: 3px solid #409eff;\r\n}\r\n.modifyPanel .choose_temp_modify_type h1 {\r\n  color: #409eff;\r\n}\r\n.pattern p {\r\n  margin: 0;\r\n  padding: 5px 0px;\r\n  text-align: left;\r\n}\r\n.pattern p:nth-child(1) {\r\n  color: #333;\r\n  font-size: 16px;\r\n}\r\n.pattern p:nth-child(2) {\r\n  color: #666;\r\n  font-size: 12px;\r\n}\r\n/* 编辑模式选择面板 end */\r\n.edit-contain .survey .title,\r\n.intro {\r\n  padding: 1px 35px;\r\n  margin: 5px 0px;\r\n  border-top: 1px solid #fff;\r\n  border-bottom: 1px solid #fff;\r\n}\r\n.edit-contain .survey .title h1,\r\n.intro p {\r\n  color: #333;\r\n  font-weight: 500;\r\n  margin: 10px;\r\n  padding: 10px;\r\n  border: 1px solid #fff;\r\n}\r\n.edit-contain .survey .title:hover,\r\n.intro:hover {\r\n  background-color: #fafafa;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  cursor: text;\r\n}\r\n.edit-contain .survey .title:hover > h1,\r\n.intro:hover > p {\r\n  background-color: #fff;\r\n  border: 1px solid #eaeaea;\r\n}\r\n.edit-contain .survey .quest-list {\r\n  padding: 35px 55px;\r\n  border-top: 1px solid #fff;\r\n  border-bottom: 1px solid #fff;\r\n  cursor: move;\r\n}\r\n.choose {\r\n  border: 2px solid #409eff !important;\r\n  border-radius: 4px;\r\n  background-color: #fafafa;\r\n  cursor: default !important;\r\n}\r\n.edit-contain .survey .quest-list:hover {\r\n  background-color: #fafafa;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.question-btn {\r\n  /* display: none; */\r\n  visibility: hidden;\r\n  float: right;\r\n  padding: 7px;\r\n  margin: 0 3px;\r\n}\r\n.edit-contain .survey .quest-list:hover .question-btn {\r\n  /* display: block; */\r\n  visibility: visible;\r\n}\r\n.edit-contain .survey .quest-list p {\r\n  margin-top: 0;\r\n}\r\n.edit-contain .survey .quest-list p .must {\r\n  color: #ff6161;\r\n  font-size: 18px;\r\n}\r\n.quest-list .qs-contain {\r\n  width: 100%;\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  color: #444;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n.inlineBlock {\r\n  margin: 0 30px 10px 0;\r\n  cursor: move;\r\n}\r\n.block {\r\n  color: #333;\r\n  display: block;\r\n  margin: 0 0 20px 0;\r\n  cursor: move;\r\n}\r\n/* 主工作区 end */\r\n/* 图标库 start */\r\n@font-face {\r\n  font-family: \"iconfont\";\r\n  src: url(\"../../../assets/iconfont/iconfont.eot\");\r\n  src: url(\"../../../assets/iconfont/iconfont.eot?#iefix\")\r\n      format(\"embedded-opentype\"),\r\n    url(\"../../../assets/iconfont/iconfont.woff\") format(\"woff\"),\r\n    url(\"../../../assets/iconfont/iconfont.ttf\") format(\"truetype\"),\r\n    url(\"../../../assets/iconfont/iconfont.svg#iconfont\") format(\"svg\");\r\n}\r\n.iconfont {\r\n  margin-right: 5px;\r\n  font-family: \"iconfont\" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n/* 图标库 end */\r\n/* 创建问卷模态框 start */\r\n.grid-content {\r\n  padding: 0px;\r\n  height: 280px;\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\n.item {\r\n  height: 100%;\r\n}\r\n.item img {\r\n  width: 100%;\r\n}\r\n.item p:nth-child(2) {\r\n  color: #4f4f4f;\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n.item p:nth-child(3) {\r\n  color: #4f4f4f;\r\n  font-size: 13px;\r\n  text-align: center;\r\n}\r\n.blank {\r\n  background-color: #fbfbfb; /* #c2daf3 */\r\n}\r\n.template {\r\n  background-color: #fbfbfb; /* #87a8d0 */\r\n}\r\n.import {\r\n  background-color: #fbfbfb; /* #b9ceeb */\r\n}\r\n.isChoose {\r\n  border: 3px solid #409eff;\r\n}\r\n/* 创建问卷模态框 end */\r\n/* 模态框标签样式 start */\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n.button-new-tag {\r\n  margin-left: 10px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n/* 模态框标签样式 end */\r\n</style>"]}]}